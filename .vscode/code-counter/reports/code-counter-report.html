<!doctype html><html lang=en><meta charset=UTF-8><meta content="width=device-width,initial-scale=1" name=viewport><title>Code Counter Report</title><link href=https://unpkg.com/tabulator-tables@6.2.1/dist/css/tabulator_simple.min.css rel=stylesheet><style>:root{--bg-primary:#ffffff;--bg-secondary:#f8f9fa;--bg-tertiary:#f5f5f5;--text-primary:#333333;--text-secondary:#666666;--text-muted:#999999;--border-color:#e1e4e8;--shadow:0 2px 10px rgba(0,0,0,0.1);--accent-color:#007acc;--accent-gradient:linear-gradient(135deg, #007acc, #005a9e);--success-color:#28a745;--warning-color:#cb7300;--danger-color:#dc3545;--hover-bg:#555}@media (prefers-color-scheme:dark){:root{--bg-primary:#1e1e1e;--bg-secondary:#2d2d30;--bg-tertiary:#252526;--text-primary:#cccccc;--text-secondary:#9d9d9d;--text-muted:#6d6d6d;--border-color:#3c3c3c;--shadow:0 2px 10px rgba(0,0,0,0.3);--accent-color:#0078d4;--accent-gradient:linear-gradient(135deg, #0078d4, #106ebe);--success-color:#4ec9b0;--warning-color:#dd6f01;--danger-color:#f85149;--hover-bg:#555}}[data-theme=dark]{--bg-primary:#1e1e1e;--bg-secondary:#2d2d30;--bg-tertiary:#252526;--text-primary:#cccccc;--text-secondary:#9d9d9d;--text-muted:#6d6d6d;--border-color:#3c3c3c;--shadow:0 2px 10px rgba(0,0,0,0.3);--accent-color:#0078d4;--accent-gradient:linear-gradient(135deg, #0078d4, #106ebe);--success-color:#4ec9b0;--warning-color:#e17102;--danger-color:#f85149;--hover-bg:#555}[data-theme=light]{--bg-primary:#ffffff;--bg-secondary:#f8f9fa;--bg-tertiary:#f5f5f5;--text-primary:#333333;--text-secondary:#666666;--text-muted:#999999;--border-color:#e1e4e8;--shadow:0 2px 10px rgba(0,0,0,0.1);--accent-color:#007acc;--accent-gradient:linear-gradient(135deg, #007acc, #005a9e);--success-color:#28a745;--warning-color:#dc7200;--danger-color:#dc3545;--hover-bg:rgba(0,122,204,0.05)}[data-theme=light] .tabulator{background:#fff;border:1px solid #e1e4e8}[data-theme=light] .tabulator .tabulator-header{background:#f8f9fa;border-bottom:1px solid #e1e4e8}[data-theme=light] .tabulator .tabulator-header .tabulator-col{background:#f8f9fa;color:#333;border-right:1px solid #e1e4e8}[data-theme=light] .tabulator .tabulator-header .tabulator-col .tabulator-col-content{color:#007acc}[data-theme=light] .tabulator .tabulator-tableholder .tabulator-table .tabulator-row{background:#fff;color:#333}[data-theme=light] .tabulator .tabulator-tableholder .tabulator-table .tabulator-row:nth-child(2n){background:#f8f9fa}[data-theme=light] .tabulator .tabulator-tableholder .tabulator-table .tabulator-row:hover{background:rgba(0,122,204,.05)!important}[data-theme=light] .tabulator .tabulator-tableholder .tabulator-table .tabulator-row .tabulator-cell{border-right:1px solid #e1e4e8;border-bottom:1px solid #e1e4e8}[data-theme=light] .tabulator .tabulator-tableholder .tabulator-table .tabulator-row.tabulator-group{background:#f0f0f0;color:#333}[data-theme=light] .tabulator .tabulator-header .tabulator-col.tabulator-frozen{background:#f8f9fa;border-right:2px solid #007acc;box-shadow:2px 0 4px rgba(0,0,0,.1)}[data-theme=light] .tabulator .tabulator-tableholder .tabulator-table .tabulator-row .tabulator-cell.tabulator-frozen{background:#fff;border-right:2px solid #007acc;box-shadow:2px 0 4px rgba(0,0,0,.1)}[data-theme=light] .tabulator .tabulator-tableholder .tabulator-table .tabulator-row:nth-child(2n) .tabulator-cell.tabulator-frozen{background:#f8f9fa}[data-theme=light] .tabulator .tabulator-tableholder .tabulator-table .tabulator-row:hover .tabulator-cell.tabulator-frozen{background:rgba(0,122,204,.05)!important}[data-theme=light] .tabulator .tabulator-col.tabulator-frozen .tabulator-col-title:before{content:'üìå ';margin-right:4px;opacity:.8}[data-theme=light] .advanced-group-header{background:linear-gradient(135deg,#007acc 0,#005a9e 100%);color:#fff}[data-theme=light] .group-cell-combined{background:linear-gradient(135deg,#007acc 0,#005a9e 100%)}[data-theme=light] .group-cell-stat{background:linear-gradient(135deg,#005a9e 0,#007acc 100%)}[data-theme=light] .advanced-group-header:hover .group-cell-combined,[data-theme=light] .advanced-group-header:hover .group-cell-stat{background:linear-gradient(135deg,#0066b3 0,#004a80 100%)}[data-theme=light] .filter-controls,[data-theme=light] .quick-filters{background:#f8f9fa;border:1px solid #e1e4e8}[data-theme=light] .quick-filter-btn{border:1px solid #e1e4e8}[data-theme=light] .quick-filter-btn.active{background:#007acc;color:#fff;border-color:#007acc}[data-theme=light] .actions-section{background:#fff;border-top:1px solid #e1e4e8}body{font-family:'Segoe UI',Tahoma,Geneva,Verdana,sans-serif;margin:0;padding:20px;background-color:var(--bg-tertiary);color:var(--text-primary);transition:background-color .3s,color .3s}.container{max-width:1200px;margin:0 auto;padding:20px}.header{background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:8px;padding:20px;margin-bottom:20px;display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:10px}.header h1{margin:0;color:var(--accent-color);font-size:1.8em;display:flex;align-items:center;gap:10px}.header-info{color:var(--text-secondary);font-size:.9em}.actions{display:flex}.btn{background:var(--accent-color);display:flex;align-items:center;justify-content:center;gap:5px}.btn:disabled{opacity:.6;cursor:not-allowed}.export-dropdown{position:relative;display:inline-block}.export-dropdown-btn{background:var(--accent-color);color:var(--bg-primary);border:none;padding:8px 16px;border-radius:4px;cursor:pointer;font-size:.9em;display:flex;align-items:center;justify-content:center;gap:5px;transition:background-color .2s}.export-dropdown-btn:hover{background:var(--hover-bg)}.export-dropdown-content{display:none;position:absolute;background-color:var(--bg-primary);min-width:180px;box-shadow:var(--shadow);border:1px solid var(--border-color);border-radius:4px;z-index:1000;top:100%;right:0}.export-dropdown-content.show{display:block!important}.export-dropdown-content a{color:var(--text-primary);padding:12px 16px;text-decoration:none;display:block;cursor:pointer;transition:background-color .2s}.export-dropdown-content a:hover{background-color:var(--bg-secondary)}.export-dropdown.show .export-dropdown-content{display:block}.summary-section{margin-bottom:30px}.section-title{color:var(--accent-color);font-size:1.4em;margin-bottom:15px;display:flex;align-items:center;gap:10px}.stats-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:15px;margin-bottom:20px}.stat-card{background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:6px;padding:15px;text-align:center}.stat-value{font-size:2em;font-weight:700;color:var(--accent-color);margin-bottom:5px}.stat-label{color:var(--text-secondary);font-size:.9em}.section{margin-bottom:30px}.language-stats{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:15px;margin-bottom:30px}.language-item{background:var(--bg-secondary);border-radius:6px;border-left:3px solid var(--success-color);border:1px solid var(--border-color)}.language-name{color:var(--text-primary);margin-bottom:5px}.language-details{font-size:.9em;color:var(--text-secondary)}.files-table{width:100%;border-collapse:collapse;margin-top:20px;background:var(--bg-primary);border:1px solid var(--border-color);border-radius:6px;overflow:hidden}.files-table td,.files-table th{padding:12px;text-align:left;border-bottom:1px solid var(--border-color)}.files-table th{background:var(--bg-secondary);color:var(--accent-color);font-weight:600;position:sticky;top:0}.files-table tr:hover{background:var(--hover-bg)}.files-table tbody tr:nth-child(2n){background:rgba(0,0,0,.02)}[data-theme=dark] .files-table tbody tr:nth-child(2n){background:rgba(255,255,255,.02)}.file-path{color:var(--text-secondary)}.file-name-cell{position:relative;max-width:300px}.file-name-display{display:flex;flex-direction:column}.file-name{font-weight:500;color:var(--accent-color);display:block}.file-path-toggle{font-size:.85em;color:var(--text-secondary);margin-top:2px;font-family:'Courier New',monospace;display:none}.file-path-toggle:empty{display:none}.file-name-text{font-weight:500;color:var(--accent-color);display:block}.file-path-text{font-size:.85em;color:var(--text-secondary);margin-top:2px;font-family:'Courier New',monospace}.file-full-path{font-family:'Courier New',monospace;font-size:.9em;color:var(--text-secondary);word-break:break-all;max-width:400px}.path-toggle{background:0 0;border:none;cursor:pointer;padding:2px 4px;margin-left:8px;border-radius:3px;font-size:.9em;color:var(--text-primary)}.path-toggle:hover{background-color:var(--hover-bg)}.path-column{min-width:200px;max-width:400px}@media (max-width:768px){.path-column{display:none!important}}.language-badge{background:var(--accent-color);color:#fff;padding:3px 8px;border-radius:12px;font-size:.8em;font-weight:500}.footer{padding:20px 30px;text-align:center;color:var(--text-secondary);font-size:.9em;border-top:1px solid var(--border-color);background:var(--bg-primary)}.footer a,.generator-info a{color:var(--accent-color);text-decoration:none}.footer a:hover,.generator-info a:hover{text-decoration:underline}.generator-info{font-size:.9em;color:var(--text-muted);margin-top:5px}.search-box{width:100%;padding:10px;border:1px solid var(--border-color);border-radius:4px;margin-bottom:20px;background:var(--bg-primary);color:var(--text-primary);font-size:16px;transition:border-color .2s}.search-box:focus{outline:0;border-color:var(--accent-color);box-shadow:0 0 0 2px rgba(0,122,204,.2)}.search-box::placeholder{color:var(--text-muted)}.loading-indicator{text-align:center;padding:20px;color:var(--text-secondary);background:var(--bg-primary);border:1px solid var(--border-color);border-radius:6px;margin:20px 0}.loading-spinner{display:inline-block;width:20px;height:20px;border:3px solid var(--border-color);border-top:3px solid var(--accent-color);border-radius:50%;animation:1s linear infinite spin;margin-right:10px}.error-message{text-align:center;padding:20px;color:var(--danger-color);background:var(--bg-primary);border:1px solid var(--danger-color);border-radius:6px;margin:20px 0}.theme-toggle{position:fixed;top:20px;right:20px;background:var(--bg-secondary);border:1px solid var(--border-color);color:var(--text-primary);padding:10px 15px;border-radius:20px;cursor:pointer;font-size:14px;transition:.3s;box-shadow:var(--shadow);z-index:1000}.theme-toggle:hover{background:var(--hover-bg);transform:translateY(-1px);box-shadow:0 4px 15px rgba(0,0,0,.2)}.theme-toggle:active{transform:translateY(0)}@media (max-width:768px){.theme-toggle{top:10px;right:10px;padding:8px 12px;font-size:12px}.container{margin-top:60px}}.quick-filters{display:flex;flex-wrap:wrap;padding:15px;background:var(--bg-secondary);border-radius:6px;border:1px solid var(--border-color)}.quick-filter-btn{background:var(--bg-primary);border:1px solid var(--border-color);color:var(--text-primary);white-space:nowrap}.quick-filter-btn:hover{background:var(--hover-bg);transform:translateY(-1px)}.filter-controls{background:var(--bg-secondary);border:1px solid var(--border-color)}.filter-control-row{display:flex;flex-direction:row;flex-wrap:wrap;align-items:end}.filter-group{display:flex;flex-direction:column;min-width:150px;flex:1}.filter-label{color:var(--text-primary);margin-bottom:5px}.search-input{border:1px solid var(--border-color);background:var(--bg-primary);color:var(--text-primary);transition:border-color .2s;width:100%}.search-input:focus{outline:0;border-color:var(--accent-color);box-shadow:0 0 0 2px rgba(0,122,204,.2)}.search-input::placeholder{color:var(--text-muted)}.range-filter{display:flex;align-items:center}.range-filter input{min-width:200px;padding:8px 12px;border:1px solid var(--border-color);border-radius:4px;background:var(--bg-primary);color:var(--text-primary);font-size:14px}.range-filter>div:nth-child(2){color:var(--text-secondary);font-size:14px}.btn{padding:8px 16px;background:var(--accent-color);color:#fff;border:none;border-radius:4px;cursor:pointer;font-size:14px;transition:background-color .2s}.btn:hover{background:var(--accent-color);opacity:.9}.actions-section{padding:15px 30px;border-top:1px solid var(--border-color);background:var(--bg-primary)}.actions{display:flex;flex-wrap:wrap;gap:10px;justify-content:center;align-items:center}.actions .btn{white-space:nowrap;min-width:140px}.actions .btn:first-child,.actions .btn:nth-child(2){background:var(--success-color)}.actions .btn:first-child:hover,.actions .btn:nth-child(2):hover{background:var(--success-color);opacity:.9}.actions .btn:nth-child(3){background:var(--warning-color);color:var(--text-primary)}.actions .btn:nth-child(3):hover{background:var(--warning-color);opacity:.9}.actions .btn.active{box-shadow:0 0 0 2px rgba(255,255,255,.3);transform:translateY(-1px);background:var(--accent-color)!important;color:var(--text-on-accent)!important;border-color:var(--accent-color)!important}.tabulator{border:1px solid var(--border-color);background:var(--bg-primary)}.tabulator .tabulator-header{background:var(--bg-secondary);border-bottom:1px solid var(--border-color)}.tabulator .tabulator-header .tabulator-col{background:var(--bg-secondary);color:var(--text-primary);border-right:1px solid var(--border-color)}.tabulator .tabulator-header .tabulator-col .tabulator-col-content{color:var(--accent-color);font-weight:600}.tabulator .tabulator-tableholder .tabulator-table .tabulator-row{background:var(--bg-primary);color:var(--text-primary)}.tabulator .tabulator-tableholder .tabulator-table .tabulator-row:hover{background:var(--hover-bg)!important}.tabulator .tabulator-tableholder .tabulator-table .tabulator-row .tabulator-cell{border-right:1px solid var(--border-color);border-bottom:1px solid var(--border-color)}.tabulator .tabulator-tableholder .tabulator-table .tabulator-row.tabulator-group{background:var(--bg-secondary);color:var(--text-primary)}.tabulator .tabulator-header .tabulator-col.tabulator-frozen{background:var(--bg-secondary);border-right:2px solid var(--accent-color);box-shadow:2px 0 4px rgba(0,0,0,.1);z-index:10}.tabulator .tabulator-col.tabulator-frozen .tabulator-col-title:before{content:'üìå ';margin-right:4px;opacity:.8}.advanced-group-header{display:flex;width:100%;background:linear-gradient(135deg,var(--accent-color) 0,#0c5a8a 100%);color:#fff;font-weight:600;border-bottom:2px solid var(--accent-color)}.group-cell-combined{background:linear-gradient(135deg,var(--accent-color) 0,#0c5a8a 100%);border-right:2px solid rgba(255,255,255,.3);padding:12px;display:flex;flex-direction:column;justify-content:center}.group-header-combined{display:flex;flex-direction:column;gap:4px}.group-directory{font-size:1.1em;font-weight:700;text-shadow:1px 1px 2px rgba(0,0,0,.5)}.group-file-count{font-size:.85em;opacity:.9;text-shadow:1px 1px 2px rgba(0,0,0,.3)}.group-cell-stat{background:linear-gradient(135deg,#0c5a8a 0,var(--accent-color) 100%);border-right:1px solid rgba(255,255,255,.2);padding:8px;text-align:center;display:flex;flex-direction:column;justify-content:center;min-height:50px}.group-stat-value{font-size:1em;font-weight:700;text-shadow:1px 1px 2px rgba(0,0,0,.5);line-height:1.2}.group-stat-label{font-size:.7em;opacity:.8;text-transform:uppercase;letter-spacing:.5px;margin-top:2px}.advanced-group-header:hover .group-cell-combined,.advanced-group-header:hover .group-cell-stat{background:linear-gradient(135deg,#17b 0,#0a4d75 100%)}.tabulator .tabulator-row.tabulator-group.tabulator-sticky:before{content:'üìå ';position:absolute;left:8px;top:50%;transform:translateY(-50%);font-size:.9em;opacity:.8;z-index:1;color:#fff;text-shadow:1px 1px 2px rgba(0,0,0,.8)}.tabulator .tabulator-row.tabulator-group.tabulator-sticky{box-shadow:0 2px 8px rgba(0,0,0,.3);z-index:15}.tabulator .tabulator-row.tabulator-group.tabulator-sticky .tabulator-cell.tabulator-frozen{background:linear-gradient(135deg,#0c5a8a 0,#17b 100%)!important;border-right:3px solid #00bfff!important;box-shadow:inset -2px 0 8px rgba(0,191,255,.4),3px 0 10px rgba(0,0,0,.5)!important;z-index:16}.tabulator .tabulator-tableholder .tabulator-table .tabulator-row .tabulator-cell.tabulator-frozen{background:var(--bg-primary);border-right:2px solid var(--accent-color);box-shadow:2px 0 4px rgba(0,0,0,.1);z-index:5}.tabulator .tabulator-tableholder .tabulator-table .tabulator-row:nth-child(2n) .tabulator-cell.tabulator-frozen{background:var(--bg-secondary)}.tabulator .tabulator-tableholder .tabulator-table .tabulator-row:hover .tabulator-cell.tabulator-frozen{background:var(--hover-bg)!important}@media (max-width:768px){.filter-control-row{flex-direction:row;gap:15px}.filter-group{min-width:unset}.range-filter{flex-wrap:wrap}.quick-filters{padding:10px}.quick-filter-btn{padding:6px 12px;font-size:12px}.actions-section{padding:10px 15px}.actions{justify-content:center;gap:8px}.actions .btn{min-width:120px;padding:6px 12px;font-size:12px}}.native-group-header{display:flex;width:100%;background:var(--vscode-editorGroupHeader-tabsBackground,#2d2d30);border-bottom:1px solid var(--vscode-editorGroup-border,#3e3e42);font-weight:600;font-size:12px;position:relative;z-index:100;user-select:none}.native-group-header .tabulator-cell{display:flex;flex-direction:column;justify-content:center;align-items:center;padding:6px 10px;border-right:1px solid var(--vscode-editorGroup-border,#3e3e42);background:0 0;color:var(--vscode-foreground,#ccc);min-height:45px;box-sizing:border-box;flex-shrink:0;overflow:hidden;position:relative;text-overflow:ellipsis;white-space:nowrap}.native-group-header .group-cell-frozen{background:linear-gradient(135deg,var(--vscode-editorGroupHeader-tabsBackground,#2d2d30) 0,color-mix(in srgb,var(--vscode-editorGroupHeader-tabsBackground,#2d2d30) 95%,var(--vscode-focusBorder,#007acc) 5%) 100%);border-right:2px solid var(--vscode-focusBorder,#007acc);position:sticky;left:0;z-index:102;box-shadow:2px 0 4px rgba(0,0,0,.1)}.native-group-header .group-cell-normal{background:var(--vscode-editorGroupHeader-tabsBackground,#2d2d30)}.group-directory-combined{padding:8px 12px}.combined-cell-content{display:flex;flex-direction:column;width:100%;gap:2px}.directory-section{font-weight:700;font-size:13px;color:var(--vscode-terminal-ansiBlue,#4fc1ff);display:flex;align-items:center;gap:4px}.files-section{display:flex;gap:8px;align-items:center;font-size:11px}.group-stats{text-align:center;padding:4px 6px}.stat-value-primary{color:var(--vscode-terminal-ansiGreen,#4ec9b0);line-height:1.2}.stat-label-secondary{font-weight:400;color:var(--vscode-descriptionForeground,#cccccc99);line-height:1.1}.frozen-group-overlay{border-right:2px solid var(--vscode-focusBorder,#007acc);align-items:center}.frozen-group-cell{color:var(--vscode-foreground,#ccc);border-right:1px solid var(--vscode-editorGroup-border,#3e3e42);display:flex;flex-direction:column;justify-content:center;box-sizing:border-box}.group-chevron{cursor:pointer;margin-left:4px;transition:transform .2s;font-size:10px;color:var(--vscode-icon-foreground,#ccc)}.group-chevron.expanded{transform:rotate(90deg)}.group-chevron:hover{color:var(--vscode-focusBorder,#007acc)}[data-vscode-theme-kind=vscode-light] .native-group-header{background:var(--vscode-editorGroupHeader-tabsBackground,#f3f3f3);border-bottom:1px solid var(--vscode-editorGroup-border,#e1e1e1)}[data-vscode-theme-kind=vscode-light] .frozen-group-overlay,[data-vscode-theme-kind=vscode-light] .native-group-header .group-cell-frozen{background:linear-gradient(135deg,var(--vscode-editorGroupHeader-tabsBackground,#f3f3f3) 0,color-mix(in srgb,var(--vscode-editorGroupHeader-tabsBackground,#f3f3f3) 95%,var(--vscode-focusBorder,#005fb8) 5%) 100%);border-right:2px solid var(--vscode-focusBorder,#005fb8)}[data-vscode-theme-kind=vscode-high-contrast] .native-group-header{border:1px solid var(--vscode-contrastBorder,#6fc3df)}[data-vscode-theme-kind=vscode-high-contrast] .native-group-header .tabulator-cell{border-right:1px solid var(--vscode-contrastBorder,#6fc3df)}@media (max-width:768px){.native-group-header .tabulator-cell{padding:4px 6px;min-height:40px}.stat-value-primary{font-size:12px}.stat-label-secondary{font-size:9px}}.tabulator{width:100%!important}.tabulator .tabulator-row.tabulator-group{background:linear-gradient(135deg,#0a4d78 0,#0e639c 50%,#17b 100%)!important;border-bottom:2px solid #007acc!important;padding:0;position:relative!important;overflow:visible!important;width:100%!important;max-width:100%!important;box-sizing:border-box!important}.dynamic-group-header{width:100%!important;max-width:100%!important;overflow:hidden!important;box-sizing:border-box!important}.dynamic-group-header table,.tabulator .tabulator-row.tabulator-group table{width:100%!important;max-width:100%!important;table-layout:fixed!important;border-collapse:collapse!important;margin:0!important;padding:0!important;box-sizing:border-box!important}.dynamic-group-header td,.tabulator .tabulator-row.tabulator-group td{border:none!important;background:0 0!important;white-space:nowrap!important;overflow:hidden!important;text-overflow:ellipsis!important;transition:width .2s!important;box-sizing:border-box!important;min-width:0!important}.stat-value-primary{font-size:14px;font-weight:600;color:inherit;margin:0}.stat-label-secondary{font-size:11px;opacity:.8;color:inherit;margin:0}.stat-value-secondary{font-size:12px;opacity:.9;color:inherit}.filter-controls{background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:8px;padding:15px;margin-bottom:20px}.filter-control-row{display:flex;gap:20px;margin-bottom:15px;align-items:end;flex-wrap:wrap}.filter-control-row:last-child{margin-bottom:0}.filter-group{display:flex;flex-direction:column;gap:5px;width:50%}.filter-control-span{display:flex;align-items:stretch;gap:10px;width:100%}.filter-label{font-size:.9em;font-weight:500;color:var(--text-primary)}.search-input{padding:6px 10px;border:1px solid var(--border-color);border-radius:4px;background:var(--bg-primary);color:var(--text-primary);font-size:.9em}.range-filter{display:flex;flex-direction:column;align-content:flex-start;align-items:flex-start;gap:8px}.quick-filters{display:flex;gap:10px;margin-bottom:15px;flex-wrap:wrap}.quick-filter-btn{padding:6px 12px;border:1px solid var(--border-color);border-radius:4px;background:var(--bg-primary);color:var(--text-primary);cursor:pointer;font-size:.85em;transition:.2s}.quick-filter-btn:hover{background:var(--hover-bg);border-color:var(--accent-color)}.quick-filter-btn.active{background:var(--accent-color);color:#fff;border-color:var(--accent-color)}.frozen-group-overlay{position:absolute;top:0;left:0;background:linear-gradient(135deg,var(--bg-secondary) 0,color-mix(in srgb,var(--bg-secondary) 95%,var(--accent-color) 5%) 100%);border-right:2px solid var(--accent-color);z-index:103;box-shadow:2px 0 4px rgba(0,0,0,.1);align-items:center}.frozen-group-cell{padding:6px 10px;color:var(--text-primary);font-weight:600;font-size:12px;border-right:1px solid var(--border-color);display:flex;flex-direction:column;justify-content:center;min-height:45px;box-sizing:border-box}[data-theme=light] .tabulator .tabulator-row.tabulator-group{background:linear-gradient(135deg,#007acc 0,#005a9e 50%,#004a80 100%)!important}[data-theme=light] .filter-controls{background:#f8f9fa;border-color:#e1e4e8}[data-theme=light] .quick-filter-btn,[data-theme=light] .search-input{background:#fff;border-color:#e1e4e8;color:#333}[data-theme=light] .quick-filter-btn:hover{background:rgba(0,122,204,.05);border-color:#007acc}[data-theme=light] .frozen-group-overlay{border-right-color:#007acc}[data-theme=light] .frozen-group-cell{color:#333;border-right-color:#e1e4e8}[data-theme=auto] .tabulator .tabulator-row.tabulator-group,[data-theme=dark] .tabulator .tabulator-row.tabulator-group{background:linear-gradient(135deg,#0a4d78 0,#0e639c 50%,#17b 100%)!important}.search-controls{margin-bottom:15px;display:flex;gap:10px;flex-wrap:wrap}.language-item{display:flex;justify-content:space-between;align-items:center;padding:8px;border-bottom:1px solid var(--border-color)}.language-item:last-child{border-bottom:none}.language-name{font-weight:500}.language-files{color:var(--text-secondary);font-size:.9em}.table-container{background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:6px;margin-bottom:20px}.file-path{font-family:Consolas,'Courier New',monospace;font-size:.9em}.loading{text-align:center;padding:40px;color:var(--text-secondary)}.hidden{display:none}.error{background:#dc3545;color:#fff;border:1px solid #dc3545;border-radius:4px;padding:15px;margin:10px 0}.spinner{display:inline-block;width:20px;height:20px;border:2px solid var(--border-color);border-radius:50%;border-top-color:var(--accent-color);animation:1s ease-in-out infinite spin;margin-right:10px}@keyframes spin{0%{transform:rotate(0)}100%,to{transform:rotate(360deg)}}.group-header-table{width:100%;table-layout:fixed;border-collapse:collapse;margin:0;position:relative}[data-theme=light] .table-container{background:#f8f9fa;border-color:#e1e4e8}[data-theme=light] .language-item{border-bottom-color:#e1e4e8}[data-theme=light] .error{background:#dc3545;border-color:#dc3545}[data-theme=light] .spinner{border-color:#007acc #e1e4e8 #e1e4e8}.frozen-group-overlay,.frozen-group-overlay-standalone{display:none!important;visibility:hidden!important}.tabulator .tabulator-row.tabulator-group{background:linear-gradient(135deg,var(--accent-color) 0,color-mix(in srgb,var(--accent-color) 80%,#000 20%) 100%)!important;color:#fff!important;font-weight:600!important;border-bottom:2px solid var(--accent-color)!important;box-shadow:0 2px 6px rgba(0,0,0,.3)!important}.native-group-header{background:var(--bg-secondary)!important;border-bottom:1px solid var(--border-color)!important;color:var(--text-primary)!important}.native-group-header .group-cell-frozen{background:linear-gradient(135deg,var(--bg-secondary) 0,color-mix(in srgb,var(--bg-secondary) 95%,var(--accent-color) 5%) 100%)!important;border-right:2px solid var(--accent-color)!important}.native-group-header .group-cell-normal{background:var(--bg-secondary)!important}.stat-value-primary{color:var(--accent-color)!important}.stat-label-secondary{color:var(--text-secondary)!important}.tabulator{position:relative!important;overflow:visible!important}.tabulator-tableholder{overflow:auto!important}[data-theme=light] .native-group-header{background:#f8f9fa!important;border-bottom-color:#e1e4e8!important;color:#333!important}[data-theme=light] .native-group-header .group-cell-frozen{background:linear-gradient(135deg,#f8f9fa 0,color-mix(in srgb,#f8f9fa 95%,#007acc 5%) 100%)!important;border-right-color:#007acc!important}[data-theme=light] .stat-value-primary{color:#007acc!important}[data-theme=light] .stat-label-secondary{color:#666!important}[data-theme=dark] .native-group-header{background:#2d2d30!important;border-bottom-color:#3c3c3c!important;color:#ccc!important}[data-theme=dark] .native-group-header .group-cell-frozen{background:linear-gradient(135deg,#2d2d30 0,color-mix(in srgb,#2d2d30 95%,#0078d4 5%) 100%)!important;border-right-color:#0078d4!important}[data-theme=dark] .stat-value-primary{color:#0078d4!important}[data-theme=dark] .stat-label-secondary{color:#9d9d9d!important}@media (max-width:768px){.native-group-header .tabulator-cell{padding:4px 6px!important;min-height:40px!important}.stat-value-primary{font-size:12px!important}.stat-label-secondary{font-size:9px!important}}.table-container{position:relative!important;overflow:hidden!important}.tabulator-row.tabulator-group *{pointer-events:auto!important}</style><button class=theme-toggle id=theme-toggle title="Toggle dark/light theme"><span id=theme-icon>ÔøΩ</span> <span id=theme-text>Auto</span></button><div class=container><div class=header><div><h1>üìä Code Counter Report</h1><div class=header-info><p>Generated on 2/2/2026, 3:52:55 PM<p>Workspace: /home/a/Yuan/Code/Mycode/Crawler_Data</div></div><div class=actions><div class=export-dropdown><button class=export-dropdown-btn id=export-dropdown-btn-1 title="Export Data">üìä Export ‚ñº</button><div class=export-dropdown-content><a href=# data-export=csv>üìä Export CSV</a> <a href=# data-export=json>üìã Export JSON</a> <a href=# data-export=xml>üìÑ Export XML</a></div></div></div></div><div class=loading-indicator id=loading-indicator><div class=loading-spinner></div>Loading report data...</div><div class="hidden error-message" id=error-message><strong>Error:</strong> <span id=error-text></span></div><div class=hidden id=report-content><div class=summary-section><h2 class=section-title>üìà Summary Statistics</h2><div class=stats-grid id=summary-stats></div></div><div class=section><h2 class=section-title>üñ•Ô∏è Language Statistics</h2><div class=language-stats id=language-stats></div></div><div class=actions-section><div class=actions><button class=btn id=group-language-btn title="Group by Language">üìÇ Group by Language</button> <button class=btn id=group-directory-btn title="Group by Directory">üìÅ Group by Directory</button> <button class=btn id=clear-group-btn title="Clear Grouping">üìã Clear Groups</button><div class=export-dropdown><button class=export-dropdown-btn id=export-dropdown-btn-2 title="Export Data">üìä Export ‚ñº</button><div class=export-dropdown-content><a href=# data-export=csv>üìä Export CSV</a> <a href=# data-export=json>üìã Export JSON</a> <a href=# data-export=xml>üìÑ Export XML</a></div></div></div></div><div class=section><h2 class=section-title>üìÅ Files</h2><div class=filter-controls><div class=filter-control-row><div class=filter-control-span><label class=filter-label>üñ•Ô∏è Language</label> <select class=search-input id=language-filter-tabulator><option value="">All Languages</select></div></div><div class=filter-control-row><div class=filter-group><label class=filter-label>üìà Lines Range</label><div class=range-filter><div><input class=search-input id=lines-min placeholder=Min style=width:60px type=number></div><div>to</div><div><input class=search-input id=lines-max placeholder=Max style=width:60px type=number></div></div></div><div class=filter-group><label class=filter-label>üì¶ File Size</label><div class=range-filter><div><input class=search-input id=size-min placeholder="Min KB" style=width:60px type=number></div><div>to</div><div><input class=search-input id=size-max placeholder="Max KB" style=width:60px type=number></div></div></div></div><div class=filter-group><label class=filter-label>üîÑ Actions</label> <button class=btn id=clear-all-filters-btn title="Clear all search filters">Clear Filters</button></div></div><div class=table-container><div id=files-table-tabulator></div></div></div><div class=footer><p>Generated by <a href="https://marketplace.visualstudio.com/items?itemName=DelightfulGames.vscode-code-counter" target=_blank>VS Code Code Counter Extension v1.2.0</a> by DelightfulGames<p><small>Visit our <a href=https://github.com/DelightfulGames/vscode-code-counter target=_blank>GitHub Repository</a> for support and updates</small></div></div></div><script src=https://unpkg.com/tabulator-tables@6.2.1/dist/js/tabulator.min.js></script><script>function escapeForJavaScript(e){return e?e.replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(/"/g,'\\"').replace(/\r?\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t").replace(/\0/g,"\\0"):""}function escapeForHTMLAttribute(e){return e?e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r?\n/g,"&#10;").replace(/\r/g,"&#13;"):""}function formatSizeKB(e){return e<1?`${(1024*e).toLocaleString()} B`:e<1024?`${e.toFixed(2)} KB`:`${(e/1024).toFixed(2)} MB`}function calculateGroupStats(e,t){const n=e.getRows(),o={totalLines:0,codeLines:0,commentLines:0,blankLines:0,size:0},a=new Set;n.forEach(e=>{const t=e.getData();o.totalLines+=t.lines||0,o.codeLines+=t.codeLines||0,o.commentLines+=t.commentLines||0,o.blankLines+=t.blankLines||0,o.size+=t.size||0,t.language&&""!==t.language.trim()&&a.add(t.language)});const l=o.totalLines>0?Math.round(o.commentLines/o.totalLines*100):0;return{...o,avgCommentRatio:l,languageCount:a.size,languages:Array.from(a).sort(),count:t}}function updateGroupHeaderStructure(){if(window.filesTable){debug.info("üîÑ [updateGroupHeaderStructure] Starting smooth group header reordering...");try{const e=window.filesTable.getColumns();debug.info("üîÑ [updateGroupHeaderStructure] Current columns:",e.map(e=>e.getField()));const t=document.querySelectorAll(".native-group-header");if(0===t.length)return void debug.warning("‚ö†Ô∏è [updateGroupHeaderStructure] No group headers found in DOM");debug.info(`üîÑ [updateGroupHeaderStructure] Found ${t.length} group headers to update`),t.forEach((t,n)=>{try{const o=Array.from(t.children);debug.verbose(`üîÑ [updateGroupHeaderStructure] Group ${n}: Found ${o.length} existing cells`);const a=new Map;o.forEach(e=>{const t=e.getAttribute("data-field");t&&a.set(t,e)});const l=[];let i=!1;e.forEach((t,n)=>{const o=t.getField();if(0===n&&!i){const t=a.get("directory-fileName");if(t){const n=e[0],o=e[1];if(n&&o){const e=n.getWidth()+o.getWidth();t.style.width=`${e}px`,t.style.minWidth=`${e}px`,t.style.flex=`0 0 ${e}px`}l.push(t)}return void(i=!0)}if(1===n)return;const r=a.get(o);if(r){const e=t.getWidth();r.style.width=`${e}px`,r.style.minWidth=`${e}px`,r.style.flex=`0 0 ${e}px`,l.push(r)}}),o.forEach(e=>e.remove()),l.forEach(e=>{e&&t.appendChild(e)}),debug.verbose(`‚úÖ [updateGroupHeaderStructure] Group ${n}: Reordered ${l.length} cells`)}catch(e){debug.error(`‚ùå [updateGroupHeaderStructure] Error updating group header ${n}:`,e)}}),debug.info("‚úÖ [updateGroupHeaderStructure] Group headers smoothly reordered without disrupting grouping"),setTimeout(()=>{"function"==typeof updateGroupHeaderWidths&&(debug.info("üîÑ [updateGroupHeaderStructure] Calling updateGroupHeaderWidths after reordering"),updateGroupHeaderWidths())},10)}catch(e){debug.error("‚ùå [updateGroupHeaderStructure] Error during smooth group header update:",e),debug.warning("üîÑ [updateGroupHeaderStructure] Falling back to basic width update only"),"function"==typeof updateGroupHeaderWidths&&updateGroupHeaderWidths()}}else debug.warning("‚ö†Ô∏è updateGroupHeaderStructure: window.filesTable not available")}function safeToLocaleString(e){return null==e||isNaN(e)?"0":Number(e).toLocaleString()}function runInSafeContext(e,...t){try{return e.apply(this,t)}catch(n){throw debug.error("Error in embedded function:",n),debug.error("Function name:",e.name),debug.error("Arguments:",t),n}}function initializeReportFromEmbeddedData(){debug.info("üéØ Initializing report from embedded data...");const e=[{path:"/home/a/Yuan/Code/Mycode/Crawler_Data/main.py",relativePath:"main.py",directory:"",fileName:"main.py",language:"Python",lines:1,codeLines:0,commentLines:0,blankLines:1,size:0},{path:"/home/a/Yuan/Code/Mycode/Crawler_Data/readme.txt",relativePath:"readme.txt",directory:"",fileName:"readme.txt",language:"Text",lines:165,codeLines:115,commentLines:0,blankLines:50,size:2088},{path:"/home/a/Yuan/Code/Mycode/Crawler_Data/ÊäÄÊúØÊñπÊ°à.txt",relativePath:"ÊäÄÊúØÊñπÊ°à.txt",directory:"",fileName:"ÊäÄÊúØÊñπÊ°à.txt",language:"Text",lines:26,codeLines:20,commentLines:0,blankLines:6,size:607},{path:"/home/a/Yuan/Code/Mycode/Crawler_Data/tools_lib/Web_tools/GoogleSearchAPI.py",relativePath:"tools_lib/Web_tools/GoogleSearchAPI.py",directory:"tools_lib/Web_tools",fileName:"GoogleSearchAPI.py",language:"Python",lines:119,codeLines:88,commentLines:15,blankLines:16,size:3202},{path:"/home/a/Yuan/Code/Mycode/Crawler_Data/HTML/index.html",relativePath:"HTML/index.html",directory:"HTML",fileName:"index.html",language:"HTML",lines:1734,codeLines:1585,commentLines:3,blankLines:146,size:50901},{path:"/home/a/Yuan/Code/Mycode/Crawler_Data/tools_lib/LLM_Agent/chatAgent.py",relativePath:"tools_lib/LLM_Agent/chatAgent.py",directory:"tools_lib/LLM_Agent",fileName:"chatAgent.py",language:"Python",lines:143,codeLines:107,commentLines:20,blankLines:16,size:4940},{path:"/home/a/Yuan/Code/Mycode/Crawler_Data/tools_lib/LLM_Agent/summaryAgent.py",relativePath:"tools_lib/LLM_Agent/summaryAgent.py",directory:"tools_lib/LLM_Agent",fileName:"summaryAgent.py",language:"Python",lines:30,codeLines:15,commentLines:6,blankLines:9,size:623},{path:"/home/a/Yuan/Code/Mycode/Crawler_Data/tools_lib/LLM_Agent/local_llm.py",relativePath:"tools_lib/LLM_Agent/local_llm.py",directory:"tools_lib/LLM_Agent",fileName:"local_llm.py",language:"Python",lines:6,codeLines:3,commentLines:2,blankLines:1,size:134},{path:"/home/a/Yuan/Code/Mycode/Crawler_Data/tools_lib/LLM_Agent/Prompt.py",relativePath:"tools_lib/LLM_Agent/Prompt.py",directory:"tools_lib/LLM_Agent",fileName:"Prompt.py",language:"Python",lines:6,codeLines:4,commentLines:2,blankLines:0,size:105}];if(e&&Array.isArray(e)&&e.length>0)try{const t=e,n={totalFiles:t.length||0,totalLines:t.reduce((e,t)=>e+(Number(t.lines)||0),0),totalCodeLines:t.reduce((e,t)=>e+(Number(t.codeLines)||0),0),totalCommentLines:t.reduce((e,t)=>e+(Number(t.commentLines)||0),0),totalBlankLines:t.reduce((e,t)=>e+(Number(t.blankLines)||0),0),languageCount:0},o=new Map;t.forEach(e=>{const t=e.language||"Unknown";o.has(t)||o.set(t,{name:t,files:0,lines:0});const n=o.get(t);n.files++,n.lines+=Number(e.lines)||0});const a=Array.from(o.values()).sort((e,t)=>t.lines-e.lines);n.languageCount=a.length;const l={summary:n,languages:a,files:t};return debug.info("‚úÖ Report data prepared:",{files:t.length,languages:a.length,totalLines:n.totalLines}),l}catch(e){return debug.error("‚ùå Failed to parse embedded data:",e),null}return null}function setupAdvancedFiltering(e){if(debug.info("üîß Setting up advanced filtering..."),!window.filesTable)return debug.warning("‚ö†Ô∏è Tabulator table not ready for filtering setup, retrying in 200ms..."),void setTimeout(()=>setupAdvancedFiltering(e),1e3);populateLanguageFilter(e),setupLanguageFilter(),setupRangeFilters(),debug.info("‚úÖ Advanced filtering setup completed")}function populateLanguageFilter(e){const t=document.getElementById("language-filter-tabulator");if(t){const n=[...new Set(e.map(e=>e.language))].sort();t.innerHTML='<option value="">All Languages</option>'+n.map(e=>`<option value="${e}">${e}</option>`).join("")}}function setupLanguageFilter(){const e=document.getElementById("language-filter-tabulator");e&&e.addEventListener("change",function(){this.value?(window.filesTable.setFilter("language","=",this.value),debug.info("üîç Language filter applied:",this.value)):(window.filesTable.clearFilter("language"),debug.info("üîÑ Language filter cleared - showing all languages"))})}function setupRangeFilters(){setupLinesRangeFilter(),setupSizeRangeFilter()}function setupLinesRangeFilter(){const e=document.getElementById("lines-min"),t=document.getElementById("lines-max");function n(){window.filesTable.clearFilter("lines"),e&&e.value&&window.filesTable.addFilter("lines",">=",parseInt(e.value)),t&&t.value&&window.filesTable.addFilter("lines","<=",parseInt(t.value)),debug.info("üîç Lines filter applied:",{min:e?.value,max:t?.value})}e&&e.addEventListener("input",n),t&&t.addEventListener("input",n)}function setupSizeRangeFilter(){const e=document.getElementById("size-min"),t=document.getElementById("size-max");function n(){window.filesTable.clearFilter("sizeKB"),e&&e.value&&window.filesTable.addFilter("sizeKB",">=",parseFloat(e.value)),t&&t.value&&window.filesTable.addFilter("sizeKB","<=",parseFloat(t.value)),debug.info("üîç Size filter applied:",{min:e?.value,max:t?.value})}e&&e.addEventListener("input",n),t&&t.addEventListener("input",n)}function safeToLocaleNumber(e){if(null==e||""===e)return 0;if("number"==typeof e)return e;if("string"==typeof e){const t=Number(e.replace(/,/g,""));return isNaN(t)?0:t}return 0}window.xmlExportModuleCode="/**\r\n * Standalone XML Export Module\r\n * Loaded dynamically only when XML export is requested\r\n */\r\n\r\n(function() {\r\n    'use strict';\r\n\r\n    console.log('XML Export Module: Loading...');\r\n\r\n    /**\r\n     * XML escaping function\r\n     */\r\n    function escapeXML(str) {\r\n        if (str === null || str === undefined) {\r\n            return '';\r\n        }\r\n        var result = String(str);\r\n        result = result.replace(/&/g, '&amp;');\r\n        result = result.replace(/</g, '&lt;');\r\n        result = result.replace(/>/g, '&gt;');\r\n        result = result.replace(/\"/g, '&quot;');\r\n        result = result.replace(/'/g, '&apos;');\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Generate XML content from table data\r\n     */\r\n    function generateXMLFromTable() {\r\n        console.log('XML Export Module: Starting XML generation...');\r\n        \r\n        try {\r\n            if (!window.filesTable) {\r\n                throw new Error('Table not available');\r\n            }\r\n\r\n            var data = window.filesTable.getData();\r\n            var dataLength = data.length;\r\n            console.log('XML Export Module: Retrieved ' + dataLength + ' rows for XML export');\r\n\r\n            // Calculate totals manually\r\n            var totalFiles = dataLength;\r\n            var totalLines = 0;\r\n            var totalCodeLines = 0;\r\n            var totalCommentLines = 0;\r\n            var totalBlankLines = 0;\r\n            var totalSize = 0;\r\n\r\n            var i;\r\n            for (i = 0; i < dataLength; i++) {\r\n                var row = data[i];\r\n                totalLines = totalLines + (parseInt(row.lines, 10) || 0);\r\n                totalCodeLines = totalCodeLines + (parseInt(row.codeLines, 10) || 0);\r\n                totalCommentLines = totalCommentLines + (parseInt(row.commentLines, 10) || 0);\r\n                totalBlankLines = totalBlankLines + (parseInt(row.blankLines, 10) || 0);\r\n                totalSize = totalSize + (parseInt(row.size, 10) || 0);\r\n            }\r\n\r\n            // Build XML step by step\r\n            var xml = '';\r\n            xml = xml + '<?xml version=\"1.0\" encoding=\"UTF-8\"?>\\n';\r\n            xml = xml + '<CodeCounterReport>\\n';\r\n            \r\n            // Metadata\r\n            xml = xml + '  <Metadata>\\n';\r\n            xml = xml + '    <Generated>' + escapeXML(new Date().toISOString()) + '</Generated>\\n';\r\n            xml = xml + '    <Generator>VS Code Code Counter Extension</Generator>\\n';\r\n            xml = xml + '    <Version>1.0.2</Version>\\n';\r\n            xml = xml + '    <TotalFiles>' + String(totalFiles) + '</TotalFiles>\\n';\r\n            xml = xml + '  </Metadata>\\n';\r\n            \r\n            // Summary\r\n            xml = xml + '  <Summary>\\n';\r\n            xml = xml + '    <TotalLines>' + String(totalLines) + '</TotalLines>\\n';\r\n            xml = xml + '    <TotalCodeLines>' + String(totalCodeLines) + '</TotalCodeLines>\\n';\r\n            xml = xml + '    <TotalCommentLines>' + String(totalCommentLines) + '</TotalCommentLines>\\n';\r\n            xml = xml + '    <TotalBlankLines>' + String(totalBlankLines) + '</TotalBlankLines>\\n';\r\n            xml = xml + '    <TotalSize>' + String(totalSize) + '</TotalSize>\\n';\r\n            xml = xml + '  </Summary>\\n';\r\n            \r\n            // Files\r\n            xml = xml + '  <Files>\\n';\r\n            for (i = 0; i < dataLength; i++) {\r\n                var fileRow = data[i];\r\n                xml = xml + '    <File>\\n';\r\n                xml = xml + '      <RelativePath>' + escapeXML(fileRow.relativePath || '') + '</RelativePath>\\n';\r\n                xml = xml + '      <Directory>' + escapeXML(fileRow.directory || '') + '</Directory>\\n';\r\n                xml = xml + '      <FileName>' + escapeXML(fileRow.fileName || '') + '</FileName>\\n';\r\n                xml = xml + '      <Language>' + escapeXML(fileRow.language || '') + '</Language>\\n';\r\n                xml = xml + '      <Lines>' + String(parseInt(fileRow.lines, 10) || 0) + '</Lines>\\n';\r\n                xml = xml + '      <CodeLines>' + String(parseInt(fileRow.codeLines, 10) || 0) + '</CodeLines>\\n';\r\n                xml = xml + '      <CommentLines>' + String(parseInt(fileRow.commentLines, 10) || 0) + '</CommentLines>\\n';\r\n                xml = xml + '      <BlankLines>' + String(parseInt(fileRow.blankLines, 10) || 0) + '</BlankLines>\\n';\r\n                xml = xml + '      <Size>' + String(parseInt(fileRow.size, 10) || 0) + '</Size>\\n';\r\n                xml = xml + '    </File>\\n';\r\n            }\r\n            xml = xml + '  </Files>\\n';\r\n            xml = xml + '</CodeCounterReport>';\r\n\r\n            console.log('XML Export Module: Generated XML with ' + String(dataLength) + ' files');\r\n            return xml;\r\n        } catch (error) {\r\n            console.error('XML Export Module: XML generation failed:', error);\r\n            throw error;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Download XML file\r\n     */\r\n    function downloadXML() {\r\n        console.log('XML Export Module: Starting XML download...');\r\n        \r\n        try {\r\n            var xmlData = generateXMLFromTable();\r\n            var blob = new Blob([xmlData], { type: 'application/xml;charset=utf-8;' });\r\n            var link = document.createElement('a');\r\n            \r\n            if (link.download !== undefined) {\r\n                var url = URL.createObjectURL(blob);\r\n                var currentDate = new Date();\r\n                var dateStr = currentDate.toISOString().slice(0, 10);\r\n                var fileName = 'code-counter-report-' + dateStr + '.xml';\r\n                \r\n                link.setAttribute('href', url);\r\n                link.setAttribute('download', fileName);\r\n                link.style.visibility = 'hidden';\r\n                document.body.appendChild(link);\r\n                link.click();\r\n                document.body.removeChild(link);\r\n                \r\n                console.log('XML Export Module: XML download completed');\r\n            }\r\n        } catch (error) {\r\n            console.error('XML Export Module: XML download failed:', error);\r\n            alert('Failed to download XML: ' + error.message);\r\n        }\r\n    }\r\n\r\n    // Make functions globally available\r\n    window.XMLExport = {\r\n        generateXML: generateXMLFromTable,\r\n        download: downloadXML\r\n    };\r\n\r\n    console.log('XML Export Module: ‚úÖ Loaded successfully');\r\n\r\n})();",window.escapeForJavaScript=escapeForJavaScript,window.escapeForHTMLAttribute=escapeForHTMLAttribute,window.formatSizeKB=formatSizeKB,window.calculateGroupStats=calculateGroupStats,window.updateGroupHeaderStructure=updateGroupHeaderStructure,"undefined"==typeof vscode&&(window.vscode={postMessage:function(e){if(debug.info("üì® VS Code API not available (standalone HTML), message:",e),"saveCSV"===e.command){const t=new Blob([e.data],{type:"text/csv"}),n=window.URL.createObjectURL(t),o=document.createElement("a");o.href=n,o.download=e.filename||"export.csv",document.body.appendChild(o),o.click(),document.body.removeChild(o),window.URL.revokeObjectURL(n),debug.info("‚úÖ CSV file downloaded in standalone mode")}}});let reportData=null;function parseEmbeddedData(){try{if("undefined"!=typeof embeddedJsonData&&embeddedJsonData&&"{{JSON_DATA}}"!==embeddedJsonData)return debug.info("üì• Parsing webview embedded JSON data..."),reportData=JSON.parse(embeddedJsonData),debug.info("‚úÖ Webview JSON parsed successfully"),debug.info("üìä Report data structure:",{hasSummary:!!reportData.summary,hasLanguages:!!reportData.languages,hasFiles:!!reportData.files,fileCount:reportData.files?reportData.files.length:0}),reportData;if("undefined"!=typeof embeddedJsonFiles&&embeddedJsonFiles&&'[[{"path":"/home/a/Yuan/Code/Mycode/Crawler_Data/main.py","relativePath":"main.py","directory":"","fileName":"main.py","language":"Python","lines":1,"codeLines":0,"commentLines":0,"blankLines":1,"size":0},{"path":"/home/a/Yuan/Code/Mycode/Crawler_Data/readme.txt","relativePath":"readme.txt","directory":"","fileName":"readme.txt","language":"Text","lines":165,"codeLines":115,"commentLines":0,"blankLines":50,"size":2088},{"path":"/home/a/Yuan/Code/Mycode/Crawler_Data/ÊäÄÊúØÊñπÊ°à.txt","relativePath":"ÊäÄÊúØÊñπÊ°à.txt","directory":"","fileName":"ÊäÄÊúØÊñπÊ°à.txt","language":"Text","lines":26,"codeLines":20,"commentLines":0,"blankLines":6,"size":607},{"path":"/home/a/Yuan/Code/Mycode/Crawler_Data/tools_lib/Web_tools/GoogleSearchAPI.py","relativePath":"tools_lib/Web_tools/GoogleSearchAPI.py","directory":"tools_lib/Web_tools","fileName":"GoogleSearchAPI.py","language":"Python","lines":119,"codeLines":88,"commentLines":15,"blankLines":16,"size":3202},{"path":"/home/a/Yuan/Code/Mycode/Crawler_Data/HTML/index.html","relativePath":"HTML/index.html","directory":"HTML","fileName":"index.html","language":"HTML","lines":1734,"codeLines":1585,"commentLines":3,"blankLines":146,"size":50901},{"path":"/home/a/Yuan/Code/Mycode/Crawler_Data/tools_lib/LLM_Agent/chatAgent.py","relativePath":"tools_lib/LLM_Agent/chatAgent.py","directory":"tools_lib/LLM_Agent","fileName":"chatAgent.py","language":"Python","lines":143,"codeLines":107,"commentLines":20,"blankLines":16,"size":4940},{"path":"/home/a/Yuan/Code/Mycode/Crawler_Data/tools_lib/LLM_Agent/summaryAgent.py","relativePath":"tools_lib/LLM_Agent/summaryAgent.py","directory":"tools_lib/LLM_Agent","fileName":"summaryAgent.py","language":"Python","lines":30,"codeLines":15,"commentLines":6,"blankLines":9,"size":623},{"path":"/home/a/Yuan/Code/Mycode/Crawler_Data/tools_lib/LLM_Agent/local_llm.py","relativePath":"tools_lib/LLM_Agent/local_llm.py","directory":"tools_lib/LLM_Agent","fileName":"local_llm.py","language":"Python","lines":6,"codeLines":3,"commentLines":2,"blankLines":1,"size":134},{"path":"/home/a/Yuan/Code/Mycode/Crawler_Data/tools_lib/LLM_Agent/Prompt.py","relativePath":"tools_lib/LLM_Agent/Prompt.py","directory":"tools_lib/LLM_Agent","fileName":"Prompt.py","language":"Python","lines":6,"codeLines":4,"commentLines":2,"blankLines":0,"size":105}]]'!==embeddedJsonFiles){debug.info("üì• Parsing standalone HTML embedded JSON files...");const e=JSON.parse(embeddedJsonFiles);debug.info("‚úÖ Standalone JSON parsed successfully");const t={totalFiles:e.length||0,totalLines:e.reduce((e,t)=>e+safeToLocaleNumber(t.lines),0),totalChars:e.reduce((e,t)=>e+safeToLocaleNumber(t.characters),0),totalBytes:e.reduce((e,t)=>e+safeToLocaleNumber(t.bytes),0)},n={};return e.forEach(e=>{const t=e.language||"Unknown";n[t]||(n[t]={name:t,files:0,lines:0,characters:0,bytes:0}),n[t].files++,n[t].lines+=safeToLocaleNumber(e.lines),n[t].characters+=safeToLocaleNumber(e.characters),n[t].bytes+=safeToLocaleNumber(e.bytes)}),reportData={summary:t,languages:Object.values(n),files:e},debug.info("üìä Report data structure:",{hasSummary:!!reportData.summary,hasLanguages:!!reportData.languages,hasFiles:!!reportData.files,fileCount:reportData.files?reportData.files.length:0}),reportData}return debug.warning("‚ö†Ô∏è No embedded JSON data found or template not replaced"),debug.warning("üìù Checked embeddedJsonData:","undefined"!=typeof embeddedJsonData?embeddedJsonData?.substring(0,50):"undefined"),debug.warning("üìù Checked embeddedJsonFiles:","undefined"!=typeof embeddedJsonFiles?embeddedJsonFiles?.substring(0,50):"undefined"),null}catch(e){return debug.error("‚ùå Error parsing JSON data:",e),debug.error("üìù embeddedJsonData length:","undefined"!=typeof embeddedJsonData?embeddedJsonData?embeddedJsonData.length:0:"undefined"),debug.error("üìù embeddedJsonFiles length:","undefined"!=typeof embeddedJsonFiles?embeddedJsonFiles?embeddedJsonFiles.length:0:"undefined"),null}}function initializeReport(e){debug.info("üéØ Initializing report with data");try{populateReportFromData(e),debug.info("‚úÖ Report initialization completed")}catch(e){debug.error("‚ùå Error initializing report:",e),showError("Failed to initialize report: "+e.message)}}function populateReportFromData(e){debug.info("üìä Populating report sections...");const t=document.getElementById("summary-stats");t&&(t.innerHTML=createSummaryHTML(e.summary),debug.info("‚úÖ Summary populated"));const n=document.getElementById("language-stats");n&&(n.innerHTML=createLanguageStatsHTML(e.languages),debug.info("‚úÖ Languages populated")),initializeAdvancedTable(e.files),debug.info("‚úÖ Advanced table initialized"),setupAdvancedFiltering(e.files),debug.info("‚úÖ Advanced filtering setup"),debug.info("üéâ Report population completed")}function createSummaryHTML(e){const t={totalFiles:e.totalFiles||0,totalLines:e.totalLines||0,totalCodeLines:e.totalCodeLines||0,totalCommentLines:e.totalCommentLines||0,totalBlankLines:e.totalBlankLines||0,languageCount:e.languageCount||0};function n(e){try{return Number(e).toLocaleString()}catch(t){return String(e)}}return`\n        <div class="stat-card">\n            <div class="stat-value">${n(t.totalFiles)}</div>\n            <div class="stat-label">üìÑ Total Files</div>\n        </div>\n        <div class="stat-card">\n            <div class="stat-value">${n(t.totalLines)}</div>\n            <div class="stat-label">üìä Total Lines</div>\n        </div>\n        <div class="stat-card">\n            <div class="stat-value">${n(t.totalCodeLines)}</div>\n            <div class="stat-label">üíº Code Lines</div>\n        </div>\n        <div class="stat-card">\n            <div class="stat-value">${n(t.totalCommentLines)}</div>\n            <div class="stat-label">üí¨ Comment Lines</div>\n        </div>\n        <div class="stat-card">\n            <div class="stat-value">${n(t.totalBlankLines)}</div>\n            <div class="stat-label">üìù Blank Lines</div>\n        </div>\n        <div class="stat-card">\n            <div class="stat-value">${n(t.languageCount)}</div>\n            <div class="stat-label">üíª Languages</div>\n        </div>\n    `}function populateSummaryStats(e){debug.info("üìä Populating summary statistics..."),debug.info("üìä Summary data received:",e);try{const t=document.getElementById("summary-stats");if(t){const n=createSummaryHTML(e);debug.info("üìä Generated HTML content length:",n.length),t.innerHTML=n,debug.info("‚úÖ Summary statistics populated successfully")}else debug.warning("‚ö†Ô∏è Summary stats container not found")}catch(e){throw debug.error("‚ùå Error in populateSummaryStats:",e),new Error(`Failed to populate summary stats: ${e.message}`)}}function createLanguageStatsHTML(e){return e.sort((e,t)=>(Number(t.lines)||0)-(Number(e.lines)||0)).map(e=>`\n            <div class="language-item">\n                <span class="language-name">${e.name||"Unknown"}</span>\n                <div>\n                    <span class="language-files">${Number(e.files)||0} files</span>\n                    <span style="margin-left: 10px; font-weight: 500;">${function(e){try{return Number(e).toLocaleString()}catch(t){return String(e)}}(e.lines)} lines</span>\n                </div>\n            </div>\n        `).join("")}function populateLanguagesBreakdown(e){debug.info("üñ•Ô∏è Populating language breakdown..."),debug.info("üñ•Ô∏è Languages data received:",e);try{const t=document.getElementById("language-stats");if(t){const n=createLanguageStatsHTML(e);debug.info("üñ•Ô∏è Generated language HTML content length:",n.length),t.innerHTML=n,debug.info("‚úÖ Language breakdown populated successfully")}else debug.warning("‚ö†Ô∏è Language stats container not found")}catch(e){throw debug.error("‚ùå Error in populateLanguagesBreakdown:",e),new Error(`Failed to populate language breakdown: ${e.message}`)}}function updateReportData(e){debug.info("üîÑ Updating report data..."),e?(reportData=e,initializeReport(reportData),debug.info("‚úÖ Report data updated successfully")):debug.error("‚ùå No data in update request")}function getReportData(){return reportData}function showError(e){const t=document.getElementById("error-message"),n=document.getElementById("error-text");t&&n&&(n.textContent=e,t.classList.remove("hidden"))}function populateReportFromData(e){if(debug.info("üìä Populating report sections..."),!e||!e.files)throw new Error("Invalid data structure - no files found");e.summary&&populateSummaryStats(e.summary),e.languages&&populateLanguagesBreakdown(e.languages),"function"==typeof initializeAdvancedTable?(debug.info("üöÄ Initializing Tabulator table using webview modules"),initializeAdvancedTable(e.files)):populateFilesTable(e.files),"function"==typeof setupUIHandlers&&setupUIHandlers(),debug.info("‚úÖ Report sections populated successfully")}function createTableColumns_Standalone(){return[{title:"üìÅ Directory",field:"directory",minWidth:150,width:150,sorter:"string",frozen:!0,formatter:function(e,t){const n=e.getValue(),o=""===n||"."===n?"(root)":n;return`<span title="${n||"(root)"}" class="directory-link">${"(root)"===o?".":o}</span>`}},{title:"üìÑ File",field:"fileName",minWidth:150,width:150,sorter:"string",headerFilter:!0,frozen:!0,formatter:function(e,t){const n=e.getValue(),o=e.getRow().getData().relativePath;return`<span title="File: ${e.getRow().getData().path||o}" class="file-name-standalone">${n}</span>`}},{title:"üñ•Ô∏è Language",field:"language",minWidth:75,width:150,sorter:"string"},{title:"üìà Lines",field:"lines",minWidth:75,width:100,sorter:"number",hozAlign:"right",formatter:"money",formatterParams:{precision:0,symbol:"",symbolAfter:!1},headerFilter:function(e,t,n,o){if(null==e||""===e)return!0;const a=parseInt(e),l=parseInt(t);return!isNaN(a)&&!isNaN(l)&&l>=a},headerFilterPlaceholder:"Min lines..."},{title:"üì∏ Code",field:"codeLines",minWidth:75,width:100,sorter:"number",hozAlign:"right",formatter:"money",formatterParams:{precision:0,symbol:"",symbolAfter:!1}},{title:"üí¨ Comments",field:"commentLines",minWidth:75,width:100,sorter:"number",hozAlign:"right",formatter:"money",formatterParams:{precision:0,symbol:"",symbolAfter:!1}},{title:"üò∂ Blanks",field:"blankLines",minWidth:75,width:100,sorter:"number",hozAlign:"right",formatter:"money",formatterParams:{precision:0,symbol:"",symbolAfter:!1}},{title:"üí¨%",field:"commentRatio",minWidth:75,width:80,sorter:"number",hozAlign:"right",formatter:function(e){const t=parseFloat(e.getValue());return`<span class="comment-ratio-colored" style="color: ${t>20?"#28a745":t>10?"#ffc107":"#6c757d"};">${t}%</span>`}},{title:"üì¶ Size",field:"sizeKB",minWidth:75,width:100,sorter:"number",hozAlign:"right",formatter:function(e){return formatSizeKB(e.getValue())}}]}const createTableColumns=createTableColumns_Standalone;function updateGroupHeaderWidths_Standalone(){if(!window.filesTable)return void debug.error("STANDALONE: ‚ùå No filesTable found");const e=window.filesTable.getColumns();document.querySelectorAll(".native-group-header").forEach(t=>{e.forEach((e,n)=>{const o=e.getField(),a=e.getWidth(),l=t.querySelector(`[data-field="${o}"]`);l&&(l.style.width=`${a}px`,l.style.minWidth=`${a}px`,l.style.flex=`0 0 ${a}px`)})})}const updateGroupHeaderWidths=updateGroupHeaderWidths_Standalone;function updateFixedGroupHeaderPositions_Standalone(e,t){debug.info(`üö® updateFixedGroupHeaderPositions_Standalone CALLED: scrollLeft=${e}, scrollTop=${t}`),debug.info("üö´ STANDALONE: Overlay creation disabled to prevent table blocking");const n=document.querySelector(".frozen-group-overlay");n&&(debug.info("üóëÔ∏è STANDALONE: Removing interfering webview overlay"),n.remove()),debug.info("‚úÖ STANDALONE: Overlay creation skipped, table remains unblocked")}function initializeAdvancedTable_Standalone(e){debug.info("üöÄ Initializing Tabulator table for STANDALONE..."),debug.info("üìä Files data received:",{fileCount:e?e.length:0,firstFile:e&&e.length>0?e[0]:null,dataType:typeof e,isArray:Array.isArray(e)});const t=e.map(e=>({...e,relativePath:e.relativePath.replace(/\\/g,"/"),fileName:(()=>{const t=e.relativePath.replace(/\\/g,"/"),n=t.lastIndexOf("/");return n>=0?t.substring(n+1):t})(),directory:(()=>{const t=e.relativePath.replace(/\\/g,"/"),n=t.lastIndexOf("/");return n>=0?t.substring(0,n):""})(),commentRatio:e.lines>0?(e.commentLines/e.lines*100).toFixed(1):0,codeRatio:e.lines>0?(e.codeLines/e.lines*100).toFixed(1):0,sizeKB:e.size/1024})).sort((e,t)=>{const n=e.directory.localeCompare(t.directory);return 0!==n?n:e.fileName.localeCompare(t.fileName)});if(window.filesTable=new Tabulator("#files-table-tabulator",{data:t,layout:"fitColumns",height:"600px",pagination:!1,paginationCounter:"rows",movableColumns:!0,resizableRows:!1,groupBy:"directory",groupStartOpen:!0,stickyHeaders:!0,groupHeader:function(e,t,n,o){debug.verbose(`üìä Creating native group header for STANDALONE: ${e} (${t} files)`);const a=calculateGroupStats(o,t),l=window.filesTable?window.filesTable.getColumns():[];console.log("üîç [STANDALONE groupHeader] Current column order:",l.map(e=>`${e.getField()}(${e.getWidth()}px)`));let i="";if(0===l.length)return`\n                    <div class="native-group-header" data-directory="${e||""}" data-count="${t}" data-stats='${JSON.stringify(a)}'>\n                        <div class="group-directory-combined tabulator-cell group-cell-frozen" data-field="directory-fileName" data-colspan="2">\n                            <div class="combined-cell-content">\n                                <div class="directory-section">üìÅ ${e||"(root)"}</div>\n                                <div class="files-section">\n                                    <div>üìÑ ${t} files</div>\n                                    <div class="stat-label-secondary">${a.languageCount} languages</div>\n                                </div>\n                            </div>\n                        </div>\n                        <div class="group-stats tabulator-cell group-cell-normal" data-field="language">üìä Stats</div>\n                        <div class="group-stats tabulator-cell" data-field="lines">Lines</div>\n                        <div class="group-stats tabulator-cell" data-field="codeLines">Code</div>\n                        <div class="group-stats tabulator-cell" data-field="commentLines">Comments</div>\n                        <div class="group-stats tabulator-cell" data-field="blankLines">Blanks</div>\n                        <div class="group-stats tabulator-cell" data-field="commentRatio">%</div>\n                        <div class="group-stats tabulator-cell" data-field="sizeKB">Size</div>\n                    </div>\n                `;let r=!1;return l.forEach((n,o)=>{const s=n.getField(),d=n.getWidth();let u="",c=["tabulator-cell"];if(0===o){const t=l[0],n=l[1];if(t&&n){const o=t.getWidth()+n.getWidth();c.push("group-cell-frozen","group-directory-combined"),u=`<div class="combined-cell-content">\n                                    <div class="directory-section">üìÅ ${e||"(root)"}</div>\n                                  </div>`,i+=`<div class="${c.join(" ")}" \n                                             data-field="directory-fileName" \n                                             data-colspan="2"\n                                             style="width: ${o}px; min-width: ${o}px; flex: 0 0 ${o}px;">\n                                            ${u}\n                                        </div>`}return void(r=!0)}if(1!==o){switch(c.push("group-cell-normal"),s){case"language":u=`<div class="stat-value-primary">üìÑ ${t} files</div>\n                                   <div class="stat-label-secondary">üñ•Ô∏è ${a.languageCount} languages</div>`,c.push("group-stats");break;case"lines":u=`<div class="stat-label-secondary">üìà total</div>\n                                  <div class="stat-value-primary">${(a.totalLines||0).toLocaleString()}</div>\n                                  <div class="stat-label-secondary">Avg: ${t>0?((a.totalLines||0)/t).toFixed(1):"0"}</div>`,c.push("group-stats");break;case"codeLines":u=`<div class="stat-label-secondary">üì∏ code</div>\n                                  <div class="stat-value-primary">${(a.codeLines||0).toLocaleString()}</div>\n                                  <div class="stat-label-secondary">Avg: ${t>0?((a.codeLines||0)/t).toFixed(1):"0"}</div>`,c.push("group-stats");break;case"commentLines":u=`<div class="stat-label-secondary">üí¨ comments</div>\n                                  <div class="stat-value-primary">${(a.commentLines||0).toLocaleString()}</div>\n                                  <div class="stat-label-secondary">Avg: ${t>0?((a.commentLines||0)/t).toFixed(1):"0"}</div>`,c.push("group-stats");break;case"blankLines":u=`<div class="stat-label-secondary">üò∂ blanks</div>\n                                  <div class="stat-value-primary">${(a.blankLines||0).toLocaleString()}</div>\n                                  <div class="stat-label-secondary">Avg: ${t>0?((a.blankLines||0)/t).toFixed(1):"0"}</div>`,c.push("group-stats");break;case"commentRatio":u=`<div class="stat-label-secondary">üí¨%</div>\n                                  <div class="stat-value-primary">${a.avgCommentRatio||0}%</div>`,c.push("group-stats");break;case"sizeKB":u=`<div class="stat-label-secondary">üì¶ size</div>\n                                  <div class="stat-value-primary">${formatSizeKB((a.size||0)/1024)}</div>\n                                  <div class="stat-label-secondary">Avg: ${t>0?formatSizeKB((a.size||0)/1024/t):"0 KB"}</div>`,c.push("group-stats");break;case"directory":u=`<div class="stat-label-secondary">üìÅ directory</div>\n                                  <div class="stat-value-primary">${e||"(root)"}</div>`,c.push("group-stats");break;case"fileName":u=`<div class="stat-label-secondary">üìÑ files</div>\n                                  <div class="stat-value-primary">${t}</div>`,c.push("group-stats");break;default:u=`<div class="stat-label-secondary">${s}</div>\n                                  <div class="stat-value-primary">-</div>`,c.push("group-stats")}i+=`<div class="${c.join(" ")}" \n                                     data-field="${s}" \n                                     style="width: ${d}px; min-width: ${d}px; flex: 0 0 ${d}px;">\n                                    ${u}\n                                </div>`}}),`\n                <div class="native-group-header" \n                     data-directory="${e||""}" \n                     data-count="${t}" \n                     data-stats='${JSON.stringify(a)}'>\n                    ${i}\n                </div>\n            `},columns:createTableColumns(),initialSort:[{column:"lines",dir:"desc"}]}),debug.info("‚úÖ Using native Tabulator group headers with built-in frozen column support for STANDALONE"),window.filesTable.on("tableBuilt",function(){setTimeout(()=>{updateGroupHeaderWidths(),debug.info("üö´ STANDALONE: Skipping overlay setup to keep table unblocked");const e=document.querySelector(".frozen-group-overlay");e&&(debug.info("üóëÔ∏è STANDALONE: Removing interfering webview overlay on tableBuilt"),e.remove())},50)}),window.filesTable.on("columnResized",function(e){debug.verbose(`üìè STANDALONE Column resized: ${e.getField()} to ${e.getWidth()}px`),updateGroupHeaderWidths(),debug.info("üö´ STANDALONE: Skipping overlay update on column resize")}),window.filesTable.on("columnMoved",function(e,t){debug.info(`üîÑ [STANDALONE] Column moved: ${e.getField()}`),debug.info("üîÑ [STANDALONE] New column order:",t.map(e=>e.getField())),updateGroupHeaderStructure(),updateGroupHeaderWidths(),debug.info("üö´ STANDALONE: Skipping overlay update on column move")}),window.filesTable.on("groupToggled",function(e){debug.verbose(`üîΩ STANDALONE Group toggled: ${e.getKey()}`),debug.info("üö´ STANDALONE: Skipping overlay update on group toggle")}),window.filesTable.on("dataSorted",function(e,t){debug.verbose(`üîÑ STANDALONE Data sorted by: ${e.map(e=>e.field+" "+e.dir).join(", ")}`),debug.info("üö´ STANDALONE: Skipping overlay update on data sort")}),window.ResizeObserver){const e=new ResizeObserver(()=>{updateGroupHeaderWidths()}),t=document.querySelector("#files-table-tabulator");t&&e.observe(t)}return debug.info("‚úÖ STANDALONE Tabulator table initialized successfully"),debug.info("üìä STANDALONE Final table data count:",window.filesTable.getData().length),debug.info("üìä STANDALONE Processed files count:",t.length),window.filesTable}window.initializeAdvancedTable_Standalone=initializeAdvancedTable_Standalone,function(){"use strict";let uiHandlersInitialized=!1,dropdownsInitialized=!1;function generateCSVFromTable_Standalone(){if(console.log("STANDALONE: Generating CSV from table..."),!window.filesTable)throw new Error("No table data available");const e=window.filesTable.getData();if(0===e.length)throw new Error("No data available for export");const t=(new Date).toISOString();let n="Generated At,Directory,File,Language,Lines,Code Lines,Comment Lines,Blank Lines,Size\n";return e.forEach(e=>{const o=[t,e.directory||"",e.fileName||"",e.language||"",e.lines||0,e.codeLines||0,e.commentLines||0,e.blankLines||0,e.size||0].map(e=>`"${String(e).replace(/"/g,'""')}"`).join(",");n+=o+"\n"}),n}function downloadCSV_Standalone(){try{const e=generateCSVFromTable_Standalone(),t=new Blob([e],{type:"text/csv;charset=utf-8;"}),n=document.createElement("a");if(void 0!==n.download){const e=URL.createObjectURL(t);n.setAttribute("href",e),n.setAttribute("download",`code-counter-report-${(new Date).toISOString().slice(0,10)}.csv`),n.style.visibility="hidden",document.body.appendChild(n),n.click(),document.body.removeChild(n),console.log("STANDALONE: ‚úÖ CSV download completed")}}catch(e){console.error("STANDALONE: ‚ùå CSV download failed:",e),alert("Failed to download CSV: "+e.message)}}function generateJSONFromTable_Standalone(){if(console.log("STANDALONE: Generating JSON from table..."),!window.filesTable)throw new Error("No table data available");const e=window.filesTable.getData();if(0===e.length)throw new Error("No data available for export");const t={metadata:{generated:(new Date).toISOString(),generator:"VS Code Code Counter Extension",version:"1.0.0",totalFiles:e.length},summary:{totalLines:e.reduce((e,t)=>e+(parseInt(t.lines)||0),0),totalCodeLines:e.reduce((e,t)=>e+(parseInt(t.codeLines)||0),0),totalCommentLines:e.reduce((e,t)=>e+(parseInt(t.commentLines)||0),0),totalBlankLines:e.reduce((e,t)=>e+(parseInt(t.blankLines)||0),0),totalSize:e.reduce((e,t)=>e+(parseInt(t.size)||0),0)},files:e.map(e=>({directory:e.directory||"",fileName:e.fileName||"",language:e.language||"",lines:parseInt(e.lines)||0,codeLines:parseInt(e.codeLines)||0,commentLines:parseInt(e.commentLines)||0,blankLines:parseInt(e.blankLines)||0,size:parseInt(e.size)||0}))};return JSON.stringify(t,null,2)}function downloadJSON_Standalone(){try{const e=generateJSONFromTable_Standalone(),t=new Blob([e],{type:"application/json;charset=utf-8;"}),n=document.createElement("a");if(void 0!==n.download){const e=URL.createObjectURL(t);n.setAttribute("href",e),n.setAttribute("download",`code-counter-report-${(new Date).toISOString().slice(0,10)}.json`),n.style.visibility="hidden",document.body.appendChild(n),n.click(),document.body.removeChild(n),console.log("STANDALONE: ‚úÖ JSON download completed")}}catch(e){console.error("STANDALONE: ‚ùå JSON download failed:",e),alert("Failed to download JSON: "+e.message)}}function loadXMLExportModule(){return new Promise(function(resolve,reject){if(window.XMLExport)return console.log("STANDALONE: XML Export module already loaded"),void resolve(window.XMLExport);if(console.log("STANDALONE: Loading XML Export module..."),window.xmlExportModuleCode)try{var moduleScript=window.xmlExportModuleCode;console.log("STANDALONE: Executing XML module code..."),eval(moduleScript),window.XMLExport?(console.log("STANDALONE: XML Export module loaded and initialized successfully"),resolve(window.XMLExport)):reject(new Error("XML Export module failed to initialize properly"))}catch(e){console.error("STANDALONE: Error executing XML module:",e),reject(new Error("Failed to execute XML Export module: "+e.message))}else reject(new Error("XML Export module code not found"))})}function handleXMLExport(){console.log("STANDALONE: XML export requested"),loadXMLExportModule().then(function(e){console.log("STANDALONE: XML module loaded, starting download..."),e.download()}).catch(function(e){console.error("STANDALONE: XML export failed:",e),alert("Failed to load XML export functionality: "+e.message)})}function handleExport_Standalone(e){console.log("STANDALONE: Handling export for format: "+e);try{switch(e){case"csv":downloadCSV_Standalone();break;case"json":downloadJSON_Standalone();break;case"xml":handleXMLExport();break;default:throw new Error("Unknown export format: "+e)}}catch(e){console.error("STANDALONE: Export failed:",e),alert("Export failed: "+e.message)}}function setupExportDropdowns_Standalone(){if(console.log("STANDALONE: setupExportDropdowns_Standalone called!"),dropdownsInitialized)console.log("STANDALONE: Export dropdowns already initialized, skipping...");else try{const e=document.querySelectorAll(".export-dropdown-btn");console.log("STANDALONE: Found dropdown buttons:",e.length),e.forEach((e,t)=>{console.log(`STANDALONE: Setting up dropdown button ${t}: ${e.id}`),e.addEventListener("click",function(t){t.preventDefault(),console.log(`STANDALONE: Dropdown button clicked: ${e.id}`);const n=e.parentElement.querySelector(".export-dropdown-content");if(n){const e="block"===n.style.display;n.style.display=e?"none":"block",console.log("STANDALONE: Dropdown "+(e?"hidden":"shown")),document.querySelectorAll(".export-dropdown-content").forEach(e=>{e!==n&&(e.style.display="none")})}})});const t=document.querySelectorAll("[data-export]");console.log("STANDALONE: Found export links:",t.length),t.forEach((e,t)=>{const n=e.getAttribute("data-export");console.log(`STANDALONE: Setting up export link ${t}: ${n}`),e.addEventListener("click",function(t){t.preventDefault(),console.log(`STANDALONE: Export clicked for format: ${n}`);const o=e.closest(".export-dropdown-content");o&&(o.style.display="none"),handleExport_Standalone(n)})}),document.addEventListener("click",function(e){e.target.closest(".export-dropdown")||document.querySelectorAll(".export-dropdown-content").forEach(e=>{e.style.display="none"})}),dropdownsInitialized=!0,console.log("STANDALONE: ‚úÖ Export dropdowns initialized successfully")}catch(e){throw dropdownsInitialized=!1,console.error("STANDALONE: ‚ùå Failed to initialize export dropdowns:",e),e}}function setupGroupButtons_Standalone(){console.log("STANDALONE: Setting up group buttons...");try{const e=document.getElementById("group-language-btn"),t=document.getElementById("group-directory-btn"),n=document.getElementById("clear-group-btn"),o=[e,t,n].filter(e=>e);console.log(`STANDALONE: Found ${o.length} group buttons`),e&&(console.log("STANDALONE: Setting up group by language button"),e.addEventListener("click",function(t){t.preventDefault(),console.log("STANDALONE: Group by language clicked"),o.forEach(e=>e.classList.remove("active","selected")),e.classList.add("active"),window.filesTable&&"function"==typeof window.filesTable.setGroupBy?(console.log("STANDALONE: Applying group by language"),window.filesTable.setGroupBy("language")):(console.log("STANDALONE: Table grouping not available"),manualGrouping_Standalone("language"))})),t&&(console.log("STANDALONE: Setting up group by directory button"),t.addEventListener("click",function(e){e.preventDefault(),console.log("STANDALONE: Group by directory clicked"),o.forEach(e=>e.classList.remove("active","selected")),t.classList.add("active"),window.filesTable&&"function"==typeof window.filesTable.setGroupBy?(console.log("STANDALONE: Applying group by directory"),window.filesTable.setGroupBy("directory")):(console.log("STANDALONE: Table grouping not available"),manualGrouping_Standalone("directory"))})),n&&(console.log("STANDALONE: Setting up clear grouping button"),n.addEventListener("click",function(e){e.preventDefault(),console.log("STANDALONE: Clear grouping clicked"),o.forEach(e=>e.classList.remove("active","selected")),window.filesTable&&"function"==typeof window.filesTable.setGroupBy?(console.log("STANDALONE: Clearing table grouping"),window.filesTable.setGroupBy(!1)):console.log("STANDALONE: Table grouping clear not available")})),console.log("STANDALONE: ‚úÖ Group buttons setup completed")}catch(e){console.error("STANDALONE: ‚ùå Failed to setup group buttons:",e)}}function manualGrouping_Standalone(e){if(console.log(`STANDALONE: Attempting manual grouping by: ${e}`),window.filesTable&&"function"==typeof window.filesTable.getData){const t=window.filesTable.getData();console.log(`STANDALONE: Manual grouping data available: ${t.length} rows`),"language"===e||"extension"===e?t.sort((e,t)=>(e.language||"").localeCompare(t.language||"")):"directory"!==e&&"folder"!==e||t.sort((e,t)=>(e.directory||"").localeCompare(t.directory||"")),"function"==typeof window.filesTable.setData&&window.filesTable.setData(t)}}function setupFilterUI_Standalone(){console.log("STANDALONE: Setting up filter UI...");try{const e=document.getElementById("language-filter-tabulator");e&&(console.log("STANDALONE: Setting up language filter dropdown"),e.addEventListener("change",function(e){const t=e.target.value;console.log(`STANDALONE: Language filter changed: "${t}"`),window.filesTable&&"function"==typeof window.filesTable.setFilter&&(t&&"all"!==t&&""!==t?window.filesTable.setFilter("language","=",t):window.filesTable.clearFilter("language"))}));[{min:"lines-min",max:"lines-max",field:"lines"},{min:"size-min",max:"size-max",field:"fileSize"}].forEach(e=>{const t=document.getElementById(e.min),n=document.getElementById(e.max);if(t&&n){console.log(`STANDALONE: Setting up range filter for ${e.field}`);const o=()=>{const o=parseFloat(t.value)||null,a=parseFloat(n.value)||null;console.log(`STANDALONE: Range filter ${e.field}: ${o} - ${a}`),window.filesTable&&"function"==typeof window.filesTable.setFilter&&(window.filesTable.clearFilter(e.field),null!==o&&window.filesTable.addFilter(e.field,">=",o),null!==a&&window.filesTable.addFilter(e.field,"<=",a))};t.addEventListener("input",o),n.addEventListener("input",o)}});const t=document.querySelectorAll('input[type="search"], .search-input[type="text"]');console.log(`STANDALONE: Found ${t.length} additional search inputs`),t.forEach((e,t)=>{e.id&&["lines-min","lines-max","size-min","size-max"].includes(e.id)||(console.log(`STANDALONE: Setting up additional search input ${t}`),e.addEventListener("input",function(e){const t=e.target.value.toLowerCase().trim();console.log(`STANDALONE: Additional search input changed: "${t}"`),window.filesTable&&"function"==typeof window.filesTable.setFilter&&(t?window.filesTable.setFilter([{field:"fileName",type:"like",value:t},{field:"directory",type:"like",value:t},{field:"language",type:"like",value:t}],"or"):window.filesTable.clearFilter())}),e.placeholder||(e.placeholder="Filter files..."))}),console.log("STANDALONE: ‚úÖ Filter UI setup completed")}catch(e){console.error("STANDALONE: ‚ùå Failed to setup filter UI:",e)}}function setupClearFilters_Standalone(){console.log("STANDALONE: Setting up clear filters...");try{const e=document.getElementById("clear-all-filters-btn");e?(console.log("STANDALONE: Setting up clear all filters button"),e.addEventListener("click",function(e){e.preventDefault(),console.log("STANDALONE: Clear all filters clicked"),window.filesTable&&"function"==typeof window.filesTable.clearFilter&&(window.filesTable.clearFilter(),console.log("STANDALONE: Table filters cleared"));["language-filter-tabulator","lines-min","lines-max","size-min","size-max"].forEach(e=>{const t=document.getElementById(e);t&&(t.value="",console.log(`STANDALONE: Cleared input: ${e}`))}),document.querySelectorAll('input[type="search"], .filter-input, .search-input[type="text"]').forEach(e=>{e.value&&(e.value="",console.log("STANDALONE: Cleared additional search input"))});[document.getElementById("group-language-btn"),document.getElementById("group-directory-btn"),document.getElementById("clear-group-btn")].filter(e=>e).forEach(e=>{e.classList.remove("active","selected")}),window.filesTable&&"function"==typeof window.filesTable.setGroupBy&&(window.filesTable.setGroupBy(!1),console.log("STANDALONE: Table grouping cleared")),console.log("STANDALONE: ‚úÖ All filters and grouping cleared")})):console.log("STANDALONE: Clear all filters button not found"),console.log("STANDALONE: ‚úÖ Clear filters setup completed")}catch(e){console.error("STANDALONE: ‚ùå Failed to setup clear filters:",e)}}function setupAdditionalControls_Standalone(){console.log("STANDALONE: Setting up additional controls...");try{const e=document.querySelectorAll("[data-column], .column-toggle");console.log(`STANDALONE: Found ${e.length} column toggle controls`),e.forEach((e,t)=>{const n=e.getAttribute("data-column")||e.textContent.toLowerCase().trim();console.log(`STANDALONE: Setting up column toggle ${t}: ${n}`),e.addEventListener("click",function(t){t.preventDefault(),console.log(`STANDALONE: Column toggle clicked: ${n}`),e.classList.toggle("active");const o=e.classList.contains("active");window.filesTable&&"function"==typeof window.filesTable.toggleColumn?window.filesTable.toggleColumn(n):window.filesTable&&"function"==typeof window.filesTable.hideColumn?o?window.filesTable.showColumn(n):window.filesTable.hideColumn(n):console.log("STANDALONE: Column toggle not supported by table")})});const t=document.querySelectorAll("[data-sort], .sort-btn");console.log(`STANDALONE: Found ${t.length} sort buttons`),t.forEach((e,t)=>{const n=e.getAttribute("data-sort")||e.textContent.toLowerCase().trim();console.log(`STANDALONE: Setting up sort button ${t}: ${n}`),e.addEventListener("click",function(t){t.preventDefault(),console.log(`STANDALONE: Sort button clicked: ${n}`);const o="asc"===(e.getAttribute("data-direction")||"asc")?"desc":"asc";e.setAttribute("data-direction",o),document.querySelectorAll("[data-sort]").forEach(e=>e.classList.remove("active")),e.classList.add("active"),window.filesTable&&"function"==typeof window.filesTable.setSort?window.filesTable.setSort(n,o):console.log("STANDALONE: Table sorting not supported")})}),console.log("STANDALONE: ‚úÖ Additional controls setup completed")}catch(e){console.error("STANDALONE: ‚ùå Failed to setup additional controls:",e)}}function setupUIHandlers_Standalone(){if(console.log("STANDALONE: setupUIHandlers_Standalone called!"),console.log("STANDALONE: Document ready state:",document.readyState),uiHandlersInitialized)console.log("STANDALONE: UI handlers already initialized, skipping...");else try{uiHandlersInitialized=!0;const e=document.getElementById("theme-toggle");e?(console.log("STANDALONE: Theme toggle found and configured"),e.addEventListener("click",function(){console.log("STANDALONE: Theme toggle clicked"),"function"==typeof toggleTheme&&toggleTheme()})):console.log("STANDALONE: Theme toggle button not found"),setupGroupButtons_Standalone(),setupFilterUI_Standalone(),setupClearFilters_Standalone(),setupAdditionalControls_Standalone(),"loading"===document.readyState?(console.log("STANDALONE: DOM still loading, waiting..."),document.addEventListener("DOMContentLoaded",function(){console.log("STANDALONE: DOM loaded, setting up exports now"),setupExportDropdowns_Standalone()})):(console.log("STANDALONE: DOM ready, setting up exports immediately"),setupExportDropdowns_Standalone()),console.log("STANDALONE: ‚úÖ UI handlers initialized successfully")}catch(e){throw uiHandlersInitialized=!1,console.error("STANDALONE: ‚ùå Failed to initialize UI handlers:",e),e}}window.setupUIHandlers_Standalone=setupUIHandlers_Standalone,window.setupUIHandlers=setupUIHandlers_Standalone,window.generateCSVFromTable_Standalone=generateCSVFromTable_Standalone,window.generateJSONFromTable_Standalone=generateJSONFromTable_Standalone,window.handleExport_Standalone=handleExport_Standalone}()</script><script>const debug={verbose:(...e)=>{console.debug("[HTML REPORT VIEW] - "+e.map(e=>"object"==typeof e?JSON.stringify(e):String(e)).join(" "))},info:(...e)=>{console.info("[HTML REPORT VIEW] - "+e.map(e=>"object"==typeof e?JSON.stringify(e):String(e)).join(" "))},warning:(...e)=>{console.warn("[HTML REPORT VIEW] - "+e.map(e=>"object"==typeof e?JSON.stringify(e):String(e)).join(" "))},error:(...e)=>{console.error("[HTML REPORT VIEW] - "+e.map(e=>"object"==typeof e?JSON.stringify(e):String(e)).join(" "))}};let currentTheme=localStorage.getItem("theme")||"auto";function updateThemeToggle(){const e=document.getElementById("theme-icon"),t=document.getElementById("theme-text");if(debug.verbose("updateThemeToggle called:",{currentTheme:currentTheme,themeIconExists:!!e,themeTextExists:!!t,domReadyState:document.readyState}),!e||!t)return void debug.verbose("Theme toggle elements not found, skipping update");const n=!!window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,a="dark"===currentTheme||"auto"===currentTheme&&n;debug.verbose("Theme toggle update details:",{prefersDark:n,actuallyDark:a,currentTheme:currentTheme}),"auto"===currentTheme?(e.textContent=a?"üåô":"‚òÄÔ∏è",t.textContent="Auto"):"dark"===currentTheme?(e.textContent="üåô",t.textContent="Dark"):(e.textContent="‚òÄÔ∏è",t.textContent="Light"),debug.verbose("Updated button to:",{icon:e.textContent,text:t.textContent})}function applyThemeStyles(){const e=!!window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches;"dark"===currentTheme?document.documentElement.setAttribute("data-theme","dark"):"light"===currentTheme?document.documentElement.setAttribute("data-theme","light"):"auto"===currentTheme&&e?document.documentElement.setAttribute("data-theme","dark"):document.documentElement.removeAttribute("data-theme"),debug.verbose("Applied theme:",{currentTheme:currentTheme,prefersDark:e,dataTheme:document.documentElement.getAttribute("data-theme")})}function applyTheme(){applyThemeStyles(),updateThemeToggle()}function toggleTheme(){const e=["auto","light","dark"],t=e.indexOf(currentTheme),n=e[(t+1)%e.length];debug.verbose("Theme toggle:",{from:currentTheme,to:n,systemPrefersDark:window.matchMedia?window.matchMedia("(prefers-color-scheme: dark)").matches:"unknown"}),currentTheme=n,localStorage.setItem("theme",currentTheme),applyTheme()}if(debug.verbose("Initial theme state:",{storedTheme:localStorage.getItem("theme"),currentTheme:currentTheme,systemPrefersDark:window.matchMedia?window.matchMedia("(prefers-color-scheme: dark)").matches:"unknown"}),window.matchMedia){const e=window.matchMedia("(prefers-color-scheme: dark)");e.addEventListener?e.addEventListener("change",applyTheme):e.addListener&&e.addListener(applyTheme)}applyThemeStyles(),document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("theme-toggle");e&&(e.addEventListener("click",toggleTheme),updateThemeToggle())});let showFullPaths=!1;const embeddedXmlData="{{XML_DATA_FALLBACK}}",embeddedJsonFiles=[{path:"/home/a/Yuan/Code/Mycode/Crawler_Data/main.py",relativePath:"main.py",directory:"",fileName:"main.py",language:"Python",lines:1,codeLines:0,commentLines:0,blankLines:1,size:0},{path:"/home/a/Yuan/Code/Mycode/Crawler_Data/readme.txt",relativePath:"readme.txt",directory:"",fileName:"readme.txt",language:"Text",lines:165,codeLines:115,commentLines:0,blankLines:50,size:2088},{path:"/home/a/Yuan/Code/Mycode/Crawler_Data/ÊäÄÊúØÊñπÊ°à.txt",relativePath:"ÊäÄÊúØÊñπÊ°à.txt",directory:"",fileName:"ÊäÄÊúØÊñπÊ°à.txt",language:"Text",lines:26,codeLines:20,commentLines:0,blankLines:6,size:607},{path:"/home/a/Yuan/Code/Mycode/Crawler_Data/tools_lib/Web_tools/GoogleSearchAPI.py",relativePath:"tools_lib/Web_tools/GoogleSearchAPI.py",directory:"tools_lib/Web_tools",fileName:"GoogleSearchAPI.py",language:"Python",lines:119,codeLines:88,commentLines:15,blankLines:16,size:3202},{path:"/home/a/Yuan/Code/Mycode/Crawler_Data/HTML/index.html",relativePath:"HTML/index.html",directory:"HTML",fileName:"index.html",language:"HTML",lines:1734,codeLines:1585,commentLines:3,blankLines:146,size:50901},{path:"/home/a/Yuan/Code/Mycode/Crawler_Data/tools_lib/LLM_Agent/chatAgent.py",relativePath:"tools_lib/LLM_Agent/chatAgent.py",directory:"tools_lib/LLM_Agent",fileName:"chatAgent.py",language:"Python",lines:143,codeLines:107,commentLines:20,blankLines:16,size:4940},{path:"/home/a/Yuan/Code/Mycode/Crawler_Data/tools_lib/LLM_Agent/summaryAgent.py",relativePath:"tools_lib/LLM_Agent/summaryAgent.py",directory:"tools_lib/LLM_Agent",fileName:"summaryAgent.py",language:"Python",lines:30,codeLines:15,commentLines:6,blankLines:9,size:623},{path:"/home/a/Yuan/Code/Mycode/Crawler_Data/tools_lib/LLM_Agent/local_llm.py",relativePath:"tools_lib/LLM_Agent/local_llm.py",directory:"tools_lib/LLM_Agent",fileName:"local_llm.py",language:"Python",lines:6,codeLines:3,commentLines:2,blankLines:1,size:134},{path:"/home/a/Yuan/Code/Mycode/Crawler_Data/tools_lib/LLM_Agent/Prompt.py",relativePath:"tools_lib/LLM_Agent/Prompt.py",directory:"tools_lib/LLM_Agent",fileName:"Prompt.py",language:"Python",lines:6,codeLines:4,commentLines:2,blankLines:0,size:105}];function parseJSON(){try{if(debug.info("üîç parseJSON called with embeddedJsonFiles:",{defined:!!embeddedJsonFiles,type:typeof embeddedJsonFiles,isArray:Array.isArray(embeddedJsonFiles),length:embeddedJsonFiles?embeddedJsonFiles.length:0,preview:embeddedJsonFiles?JSON.stringify(embeddedJsonFiles).substring(0,100)+"...":"undefined"}),!embeddedJsonFiles||!Array.isArray(embeddedJsonFiles)||0===embeddedJsonFiles.length)return debug.warning("‚ùå No valid JSON data found - not an array or empty"),null;debug.info("‚úÖ JSON validation passed, processing array directly...");const e=embeddedJsonFiles;debug.info("‚úÖ Using embedded files array directly, file count:",e.length);const t=new Map;e.forEach(e=>{const n=e.language||"Unknown";t.has(n)||t.set(n,{name:n,files:0,lines:0});const a=t.get(n);a.files++,a.lines+=Number(e.lines)||0});const n=Array.from(t.values()).sort((e,t)=>t.lines-e.lines);return{summary:{totalFiles:e.length||0,totalLines:e.reduce((e,t)=>e+(Number(t.lines)||0),0),totalCodeLines:e.reduce((e,t)=>e+(Number(t.codeLines)||0),0),totalCommentLines:e.reduce((e,t)=>e+(Number(t.commentLines)||0),0),totalBlankLines:e.reduce((e,t)=>e+(Number(t.blankLines)||0),0),languageCount:n.length},languages:n,files:e}}catch(e){return debug.error("‚ùå Error in parseJSON function:",{message:e.message,name:e.name,stack:e.stack,dataLength:embeddedJsonFiles?embeddedJsonFiles.length:"undefined",dataType:typeof embeddedJsonFiles,dataStart:embeddedJsonFiles?embeddedJsonFiles.substring(0,50):"undefined"}),null}}function parseXML(e){const t=(new DOMParser).parseFromString(e,"text/xml").querySelector("codeCounter"),n=Array.from(t.querySelectorAll("files file")).map(e=>({path:e.getAttribute("path"),relativePath:e.getAttribute("relativePath"),fullPath:e.getAttribute("fullPath")||e.getAttribute("relativePath"),language:e.getAttribute("language"),lines:parseInt(e.getAttribute("lines"))||0,codeLines:parseInt(e.getAttribute("codeLines"))||0,commentLines:parseInt(e.getAttribute("commentLines"))||0,blankLines:parseInt(e.getAttribute("blankLines"))||0,size:parseInt(e.getAttribute("size"))||0})),a=Array.from(t.querySelectorAll("languageStats language")).map(e=>({name:e.getAttribute("name"),files:parseInt(e.getAttribute("files"))||0,lines:parseInt(e.getAttribute("lines"))||0}));return{summary:{totalFiles:n.length||0,totalLines:n.reduce((e,t)=>e+(t.lines||0),0),totalCodeLines:n.reduce((e,t)=>e+(t.codeLines||0),0),totalCommentLines:n.reduce((e,t)=>e+(t.commentLines||0),0),totalBlankLines:n.reduce((e,t)=>e+(t.blankLines||0),0),languageCount:a.length},languages:a,files:n}}function formatNumber(e){return null==e||isNaN(e)?"0":Number(e).toLocaleString()}function populateReport(){try{let e=null;if("function"==typeof parseEmbeddedData&&(debug.info("üì• Using embedded data parser from webview modules"),e=parseEmbeddedData()),e||(debug.info("üì• Falling back to local JSON parsing"),e=parseJSON()),!e)throw new Error("No embedded report data found");if(debug.info("Using parsed data (preferred format)"),debug.info("Report data structure check:",{hasData:!!e,hasSummary:!(!e||!e.summary),summaryKeys:e&&e.summary?Object.keys(e.summary):"no summary",hasFiles:!(!e||!e.files),filesCount:e&&e.files?e.files.length:"no files",hasLanguages:!(!e||!e.languages),languagesCount:e&&e.languages?e.languages.length:"no languages"}),"function"==typeof populateReportFromData){debug.info("Using embedded populateReportFromData function");try{populateReportFromData(e)}catch(t){debug.error("Error in populateReportFromData:",t),debug.error("Falling back to basic population"),populateFilesTable(e.files)}}else debug.warning("populateReportFromData not available, using fallback"),populateFilesTable(e.files);const t=document.getElementById("loading-indicator"),n=document.getElementById("report-content");t&&t.classList.add("hidden"),n&&n.classList.remove("hidden")}catch(e){debug.error("Error parsing report data:",e);const t=document.getElementById("loading-indicator"),n=document.getElementById("error-message"),a=document.getElementById("error-text");t&&t.classList.add("hidden"),a&&(a.textContent="Error loading report data: "+e.message),n&&n.classList.remove("hidden")}}let filesTable;function initializeTabulatorTable(e){if(debug.info("üöÄ Initializing Tabulator table using standalone functions"),"undefined"==typeof initializeAdvancedTable_Standalone)throw debug.error("‚ùå initializeAdvancedTable_Standalone function is not defined!"),debug.error("Available functions:",Object.getOwnPropertyNames(window).filter(e=>e.includes("initialize")||e.includes("Table"))),new Error("initializeAdvancedTable_Standalone function is not available");debug.info("‚úÖ initializeAdvancedTable_Standalone function found"),filesTable=initializeAdvancedTable_Standalone(e),window.filesTable=filesTable,debug.info("‚úÖ Tabulator table initialized using standalone functions")}function populateFilesTable(e){"undefined"!=typeof Tabulator?(initializeTabulatorTable(e),setupUIHandlers_Standalone(),"function"==typeof populateLanguageFilter?(populateLanguageFilter(e),debug.info("‚úÖ Language filter populated in fallback")):debug.warning("‚ö†Ô∏è populateLanguageFilter function not available"),"function"==typeof setupAdvancedFiltering?setTimeout(()=>{window.filesTable?(setupAdvancedFiltering(e),debug.info("‚úÖ Advanced filtering set up in fallback")):debug.error("‚ùå window.filesTable not available for filter setup")},1e3):debug.warning("‚ö†Ô∏è setupAdvancedFiltering function not available"),debug.info("‚úÖ Report initialized with standalone modules")):populateBasicFilesTable(e)}function populateBasicFilesTable(e){const t=document.getElementById("files-tbody");if(!t)return;const n=[...e].sort((e,t)=>e.relativePath.localeCompare(t.relativePath));t.innerHTML=n.map(e=>{const t=(e.size/1024).toFixed(1);e.lines>0&&(e.commentLines/e.lines*100).toFixed(1);return`\n            <tr>\n                <td class="file-path">${escapeHtml(e.relativePath)}</td>\n                <td>${escapeHtml(e.language)}</td>\n                <td>${e.lines.toLocaleString()}</td>\n                <td>${e.codeLines.toLocaleString()}</td>\n                <td>${e.commentLines.toLocaleString()}</td>\n                <td>${e.blankLines.toLocaleString()}</td>\n                <td>${t} KB</td>\n            </tr>\n        `}).join("")}function setupGroupControls(){const e=document.getElementById("group-language-btn"),t=document.getElementById("group-directory-btn"),n=document.getElementById("clear-group-btn");e&&e.addEventListener("click",()=>{filesTable&&(filesTable.setGroupBy("language"),updateGroupButtonStates("language"))}),t&&t.addEventListener("click",()=>{filesTable&&(filesTable.setGroupBy("directory"),updateGroupButtonStates("directory"))}),n&&n.addEventListener("click",()=>{filesTable&&(filesTable.setGroupBy(!1),updateGroupButtonStates(null))})}function updateGroupButtonStates(e){document.querySelectorAll("#group-language-btn, #group-directory-btn, #clear-group-btn").forEach(e=>{e.classList.remove("active")}),"language"===e?document.getElementById("group-language-btn")?.classList.add("active"):"directory"===e?document.getElementById("group-directory-btn")?.classList.add("active"):null===e&&document.getElementById("clear-group-btn")?.classList.add("active")}function escapeHtml(e){const t=document.createElement("div");return t.textContent=e,t.innerHTML}document.addEventListener("DOMContentLoaded",()=>{document.getElementById("summary-stats")&&populateReport()})</script>